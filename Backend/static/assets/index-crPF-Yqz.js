function Xd(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const o=Object.getOwnPropertyDescriptor(s,n);o&&Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _i(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const _e={},Hr=[],$t=()=>{},Yl=()=>!1,Nn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bi=t=>t.startsWith("onUpdate:"),Ie=Object.assign,wi=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},eh=Object.prototype.hasOwnProperty,ge=(t,e)=>eh.call(t,e),Z=Array.isArray,Vr=t=>Ns(t)==="[object Map]",Un=t=>Ns(t)==="[object Set]",ra=t=>Ns(t)==="[object Date]",ne=t=>typeof t=="function",Re=t=>typeof t=="string",It=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",Zl=t=>(we(t)||ne(t))&&ne(t.then)&&ne(t.catch),Ql=Object.prototype.toString,Ns=t=>Ql.call(t),th=t=>Ns(t).slice(8,-1),Xl=t=>Ns(t)==="[object Object]",Ei=t=>Re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fs=_i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dn=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},rh=/-\w/g,ut=Dn(t=>t.replace(rh,e=>e.slice(1).toUpperCase())),sh=/\B([A-Z])/g,Or=Dn(t=>t.replace(sh,"-$1").toLowerCase()),Fn=Dn(t=>t.charAt(0).toUpperCase()+t.slice(1)),lo=Dn(t=>t?`on${Fn(t)}`:""),tr=(t,e)=>!Object.is(t,e),an=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ec=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},mn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},nh=t=>{const e=Re(t)?Number(t):NaN;return isNaN(e)?t:e};let sa;const Bn=()=>sa||(sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xr(t){if(Z(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=Re(s)?lh(s):Xr(s);if(n)for(const o in n)e[o]=n[o]}return e}else if(Re(t)||we(t))return t}const oh=/;(?![^(]*\))/g,ih=/:([^]+)/,ah=/\/\*[^]*?\*\//g;function lh(t){const e={};return t.replace(ah,"").split(oh).forEach(r=>{if(r){const s=r.split(ih);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ue(t){let e="";if(Re(t))e=t;else if(Z(t))for(let r=0;r<t.length;r++){const s=Ue(t[r]);s&&(e+=s+" ")}else if(we(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ch="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uh=_i(ch);function tc(t){return!!t||t===""}function dh(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=Mn(t[s],e[s]);return r}function Mn(t,e){if(t===e)return!0;let r=ra(t),s=ra(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=It(t),s=It(e),r||s)return t===e;if(r=Z(t),s=Z(e),r||s)return r&&s?dh(t,e):!1;if(r=we(t),s=we(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,o=Object.keys(e).length;if(n!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Mn(t[i],e[i]))return!1}}return String(t)===String(e)}function hh(t,e){return t.findIndex(r=>Mn(r,e))}const rc=t=>!!(t&&t.__v_isRef===!0),G=t=>Re(t)?t:t==null?"":Z(t)||we(t)&&(t.toString===Ql||!ne(t.toString))?rc(t)?G(t.value):JSON.stringify(t,sc,2):String(t),sc=(t,e)=>rc(e)?sc(t,e.value):Vr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],o)=>(r[co(s,o)+" =>"]=n,r),{})}:Un(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>co(r))}:It(e)?co(e):we(e)&&!Z(e)&&!Xl(e)?String(e):e,co=(t,e="")=>{var r;return It(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Me;class nc{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Me,!e&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Me;try{return Me=this,e()}finally{Me=r}}}on(){++this._on===1&&(this.prevScope=Me,Me=this)}off(){this._on>0&&--this._on===0&&(Me=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function oc(t){return new nc(t)}function ic(){return Me}function fh(t,e=!1){Me&&Me.cleanups.push(t)}let xe;const uo=new WeakSet;class ac{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Me&&Me.active&&Me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,uo.has(this)&&(uo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,na(this),uc(this);const e=xe,r=gt;xe=this,gt=!0;try{return this.fn()}finally{dc(this),xe=e,gt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ci(e);this.deps=this.depsTail=void 0,na(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?uo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Do(this)&&this.run()}get dirty(){return Do(this)}}let lc=0,ps,gs;function cc(t,e=!1){if(t.flags|=8,e){t.next=gs,gs=t;return}t.next=ps,ps=t}function Si(){lc++}function xi(){if(--lc>0)return;if(gs){let e=gs;for(gs=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;ps;){let e=ps;for(ps=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function uc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dc(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),Ci(s),ph(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function Do(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(hc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function hc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Cs)||(t.globalVersion=Cs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Do(t))))return;t.flags|=2;const e=t.dep,r=xe,s=gt;xe=t,gt=!0;try{uc(t);const n=t.fn(t._value);(e.version===0||tr(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{xe=r,gt=s,dc(t),t.flags&=-3}}function Ci(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)Ci(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function ph(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let gt=!0;const fc=[];function Mt(){fc.push(gt),gt=!1}function qt(){const t=fc.pop();gt=t===void 0?!0:t}function na(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=xe;xe=void 0;try{e()}finally{xe=r}}}let Cs=0;class gh{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ai{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xe||!gt||xe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==xe)r=this.activeLink=new gh(xe,this),xe.deps?(r.prevDep=xe.depsTail,xe.depsTail.nextDep=r,xe.depsTail=r):xe.deps=xe.depsTail=r,pc(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=xe.depsTail,r.nextDep=void 0,xe.depsTail.nextDep=r,xe.depsTail=r,xe.deps===r&&(xe.deps=s)}return r}trigger(e){this.version++,Cs++,this.notify(e)}notify(e){Si();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{xi()}}}function pc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)pc(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const vn=new WeakMap,Er=Symbol(""),Fo=Symbol(""),As=Symbol("");function qe(t,e,r){if(gt&&xe){let s=vn.get(t);s||vn.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new Ai),n.map=s,n.key=r),n.track()}}function Ft(t,e,r,s,n,o){const i=vn.get(t);if(!i){Cs++;return}const a=l=>{l&&l.trigger()};if(Si(),e==="clear")i.forEach(a);else{const l=Z(t),c=l&&Ei(r);if(l&&r==="length"){const u=Number(s);i.forEach((d,h)=>{(h==="length"||h===As||!It(h)&&h>=u)&&a(d)})}else switch((r!==void 0||i.has(void 0))&&a(i.get(r)),c&&a(i.get(As)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Er)),Vr(t)&&a(i.get(Fo)));break;case"delete":l||(a(i.get(Er)),Vr(t)&&a(i.get(Fo)));break;case"set":Vr(t)&&a(i.get(Er));break}}xi()}function mh(t,e){const r=vn.get(t);return r&&r.get(e)}function Pr(t){const e=fe(t);return e===t?e:(qe(e,"iterate",As),ct(t)?e:e.map(De))}function qn(t){return qe(t=fe(t),"iterate",As),t}const vh={__proto__:null,[Symbol.iterator](){return ho(this,Symbol.iterator,De)},concat(...t){return Pr(this).concat(...t.map(e=>Z(e)?Pr(e):e))},entries(){return ho(this,"entries",t=>(t[1]=De(t[1]),t))},every(t,e){return Lt(this,"every",t,e,void 0,arguments)},filter(t,e){return Lt(this,"filter",t,e,r=>r.map(De),arguments)},find(t,e){return Lt(this,"find",t,e,De,arguments)},findIndex(t,e){return Lt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Lt(this,"findLast",t,e,De,arguments)},findLastIndex(t,e){return Lt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Lt(this,"forEach",t,e,void 0,arguments)},includes(...t){return fo(this,"includes",t)},indexOf(...t){return fo(this,"indexOf",t)},join(t){return Pr(this).join(t)},lastIndexOf(...t){return fo(this,"lastIndexOf",t)},map(t,e){return Lt(this,"map",t,e,void 0,arguments)},pop(){return as(this,"pop")},push(...t){return as(this,"push",t)},reduce(t,...e){return oa(this,"reduce",t,e)},reduceRight(t,...e){return oa(this,"reduceRight",t,e)},shift(){return as(this,"shift")},some(t,e){return Lt(this,"some",t,e,void 0,arguments)},splice(...t){return as(this,"splice",t)},toReversed(){return Pr(this).toReversed()},toSorted(t){return Pr(this).toSorted(t)},toSpliced(...t){return Pr(this).toSpliced(...t)},unshift(...t){return as(this,"unshift",t)},values(){return ho(this,"values",De)}};function ho(t,e,r){const s=qn(t),n=s[e]();return s!==t&&!ct(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const yh=Array.prototype;function Lt(t,e,r,s,n,o){const i=qn(t),a=i!==t&&!ct(t),l=i[e];if(l!==yh[e]){const d=l.apply(t,o);return a?De(d):d}let c=r;i!==t&&(a?c=function(d,h){return r.call(this,De(d),h,t)}:r.length>2&&(c=function(d,h){return r.call(this,d,h,t)}));const u=l.call(i,c,s);return a&&n?n(u):u}function oa(t,e,r,s){const n=qn(t);let o=r;return n!==t&&(ct(t)?r.length>3&&(o=function(i,a,l){return r.call(this,i,a,l,t)}):o=function(i,a,l){return r.call(this,i,De(a),l,t)}),n[e](o,...s)}function fo(t,e,r){const s=fe(t);qe(s,"iterate",As);const n=s[e](...r);return(n===-1||n===!1)&&Ti(r[0])?(r[0]=fe(r[0]),s[e](...r)):n}function as(t,e,r=[]){Mt(),Si();const s=fe(t)[e].apply(t,r);return xi(),qt(),s}const _h=_i("__proto__,__v_isRef,__isVue"),gc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(It));function bh(t){It(t)||(t=String(t));const e=fe(this);return qe(e,"has",t),e.hasOwnProperty(t)}class mc{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return s===(n?o?Rh:bc:o?_c:yc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=Z(e);if(!n){let l;if(i&&(l=vh[r]))return l;if(r==="hasOwnProperty")return bh}const a=Reflect.get(e,r,Te(e)?e:s);return(It(r)?gc.has(r):_h(r))||(n||qe(e,"get",r),o)?a:Te(a)?i&&Ei(r)?a:a.value:we(a)?n?Ec(a):vt(a):a}}class vc extends mc{constructor(e=!1){super(!1,e)}set(e,r,s,n){let o=e[r];if(!this._isShallow){const l=sr(o);if(!ct(s)&&!sr(s)&&(o=fe(o),s=fe(s)),!Z(e)&&Te(o)&&!Te(s))return l||(o.value=s),!0}const i=Z(e)&&Ei(r)?Number(r)<e.length:ge(e,r),a=Reflect.set(e,r,s,Te(e)?e:n);return e===fe(n)&&(i?tr(s,o)&&Ft(e,"set",r,s):Ft(e,"add",r,s)),a}deleteProperty(e,r){const s=ge(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&Ft(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!It(r)||!gc.has(r))&&qe(e,"has",r),s}ownKeys(e){return qe(e,"iterate",Z(e)?"length":Er),Reflect.ownKeys(e)}}class wh extends mc{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Eh=new vc,Sh=new wh,xh=new vc(!0);const Bo=t=>t,Ws=t=>Reflect.getPrototypeOf(t);function Ch(t,e,r){return function(...s){const n=this.__v_raw,o=fe(n),i=Vr(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=n[t](...s),u=r?Bo:e?yn:De;return!e&&qe(o,"iterate",l?Fo:Er),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function zs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ah(t,e){const r={get(n){const o=this.__v_raw,i=fe(o),a=fe(n);t||(tr(n,a)&&qe(i,"get",n),qe(i,"get",a));const{has:l}=Ws(i),c=e?Bo:t?yn:De;if(l.call(i,n))return c(o.get(n));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(n)},get size(){const n=this.__v_raw;return!t&&qe(fe(n),"iterate",Er),n.size},has(n){const o=this.__v_raw,i=fe(o),a=fe(n);return t||(tr(n,a)&&qe(i,"has",n),qe(i,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const i=this,a=i.__v_raw,l=fe(a),c=e?Bo:t?yn:De;return!t&&qe(l,"iterate",Er),a.forEach((u,d)=>n.call(o,c(u),c(d),i))}};return Ie(r,t?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(n){!e&&!ct(n)&&!sr(n)&&(n=fe(n));const o=fe(this);return Ws(o).has.call(o,n)||(o.add(n),Ft(o,"add",n,n)),this},set(n,o){!e&&!ct(o)&&!sr(o)&&(o=fe(o));const i=fe(this),{has:a,get:l}=Ws(i);let c=a.call(i,n);c||(n=fe(n),c=a.call(i,n));const u=l.call(i,n);return i.set(n,o),c?tr(o,u)&&Ft(i,"set",n,o):Ft(i,"add",n,o),this},delete(n){const o=fe(this),{has:i,get:a}=Ws(o);let l=i.call(o,n);l||(n=fe(n),l=i.call(o,n)),a&&a.call(o,n);const c=o.delete(n);return l&&Ft(o,"delete",n,void 0),c},clear(){const n=fe(this),o=n.size!==0,i=n.clear();return o&&Ft(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Ch(n,t,e)}),r}function Oi(t,e){const r=Ah(t,e);return(s,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(ge(r,n)&&n in s?r:s,n,o)}const Oh={get:Oi(!1,!1)},kh={get:Oi(!1,!0)},Th={get:Oi(!0,!1)};const yc=new WeakMap,_c=new WeakMap,bc=new WeakMap,Rh=new WeakMap;function Ph(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $h(t){return t.__v_skip||!Object.isExtensible(t)?0:Ph(th(t))}function vt(t){return sr(t)?t:ki(t,!1,Eh,Oh,yc)}function wc(t){return ki(t,!1,xh,kh,_c)}function Ec(t){return ki(t,!0,Sh,Th,bc)}function ki(t,e,r,s,n){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=$h(t);if(o===0)return t;const i=n.get(t);if(i)return i;const a=new Proxy(t,o===2?s:r);return n.set(t,a),a}function rr(t){return sr(t)?rr(t.__v_raw):!!(t&&t.__v_isReactive)}function sr(t){return!!(t&&t.__v_isReadonly)}function ct(t){return!!(t&&t.__v_isShallow)}function Ti(t){return t?!!t.__v_raw:!1}function fe(t){const e=t&&t.__v_raw;return e?fe(e):t}function Ri(t){return!ge(t,"__v_skip")&&Object.isExtensible(t)&&ec(t,"__v_skip",!0),t}const De=t=>we(t)?vt(t):t,yn=t=>we(t)?Ec(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function X(t){return Sc(t,!1)}function jh(t){return Sc(t,!0)}function Sc(t,e){return Te(t)?t:new Ih(t,e)}class Ih{constructor(e,r){this.dep=new Ai,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:fe(e),this._value=r?e:De(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||ct(e)||sr(e);e=s?e:fe(e),tr(e,r)&&(this._rawValue=e,this._value=s?e:De(e),this.dep.trigger())}}function J(t){return Te(t)?t.value:t}const Lh={get:(t,e,r)=>e==="__v_raw"?t:J(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return Te(n)&&!Te(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function xc(t){return rr(t)?t:new Proxy(t,Lh)}function Nh(t){const e=Z(t)?new Array(t.length):{};for(const r in t)e[r]=Dh(t,r);return e}class Uh{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mh(fe(this._object),this._key)}}function Dh(t,e,r){const s=t[e];return Te(s)?s:new Uh(t,e,r)}class Fh{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Ai(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return cc(this,!0),!0}get value(){const e=this.dep.track();return hc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Bh(t,e,r=!1){let s,n;return ne(t)?s=t:(s=t.get,n=t.set),new Fh(s,n,r)}const Gs={},_n=new WeakMap;let hr;function Mh(t,e=!1,r=hr){if(r){let s=_n.get(r);s||_n.set(r,s=[]),s.push(t)}}function qh(t,e,r=_e){const{immediate:s,deep:n,once:o,scheduler:i,augmentJob:a,call:l}=r,c=b=>n?b:ct(b)||n===!1||n===0?Bt(b,1):Bt(b);let u,d,h,f,p=!1,m=!1;if(Te(t)?(d=()=>t.value,p=ct(t)):rr(t)?(d=()=>c(t),p=!0):Z(t)?(m=!0,p=t.some(b=>rr(b)||ct(b)),d=()=>t.map(b=>{if(Te(b))return b.value;if(rr(b))return c(b);if(ne(b))return l?l(b,2):b()})):ne(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Mt();try{h()}finally{qt()}}const b=hr;hr=u;try{return l?l(t,3,[f]):t(f)}finally{hr=b}}:d=$t,e&&n){const b=d,x=n===!0?1/0:n;d=()=>Bt(b(),x)}const y=ic(),S=()=>{u.stop(),y&&y.active&&wi(y.effects,u)};if(o&&e){const b=e;e=(...x)=>{b(...x),S()}}let k=m?new Array(t.length).fill(Gs):Gs;const w=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const x=u.run();if(n||p||(m?x.some((C,A)=>tr(C,k[A])):tr(x,k))){h&&h();const C=hr;hr=u;try{const A=[x,k===Gs?void 0:m&&k[0]===Gs?[]:k,f];k=x,l?l(e,3,A):e(...A)}finally{hr=C}}}else u.run()};return a&&a(w),u=new ac(d),u.scheduler=i?()=>i(w,!1):w,f=b=>Mh(b,!1,u),h=u.onStop=()=>{const b=_n.get(u);if(b){if(l)l(b,4);else for(const x of b)x();_n.delete(u)}},e?s?w(!0):k=u.run():i?i(w.bind(null,!0),!0):u.run(),S.pause=u.pause.bind(u),S.resume=u.resume.bind(u),S.stop=S,S}function Bt(t,e=1/0,r){if(e<=0||!we(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Te(t))Bt(t.value,e,r);else if(Z(t))for(let s=0;s<t.length;s++)Bt(t[s],e,r);else if(Un(t)||Vr(t))t.forEach(s=>{Bt(s,e,r)});else if(Xl(t)){for(const s in t)Bt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Bt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Us(t,e,r,s){try{return s?t(...s):t()}catch(n){Hn(n,e,r)}}function yt(t,e,r,s){if(ne(t)){const n=Us(t,e,r,s);return n&&Zl(n)&&n.catch(o=>{Hn(o,e,r)}),n}if(Z(t)){const n=[];for(let o=0;o<t.length;o++)n.push(yt(t[o],e,r,s));return n}}function Hn(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||_e;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(o){Mt(),Us(o,null,10,[t,l,c]),qt();return}}Hh(t,r,n,s,i)}function Hh(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const We=[];let Tt=-1;const Kr=[];let Zt=null,Dr=0;const Cc=Promise.resolve();let bn=null;function Vn(t){const e=bn||Cc;return t?e.then(this?t.bind(this):t):e}function Vh(t){let e=Tt+1,r=We.length;for(;e<r;){const s=e+r>>>1,n=We[s],o=Os(n);o<t||o===t&&n.flags&2?e=s+1:r=s}return e}function Pi(t){if(!(t.flags&1)){const e=Os(t),r=We[We.length-1];!r||!(t.flags&2)&&e>=Os(r)?We.push(t):We.splice(Vh(e),0,t),t.flags|=1,Ac()}}function Ac(){bn||(bn=Cc.then(kc))}function Kh(t){Z(t)?Kr.push(...t):Zt&&t.id===-1?Zt.splice(Dr+1,0,t):t.flags&1||(Kr.push(t),t.flags|=1),Ac()}function ia(t,e,r=Tt+1){for(;r<We.length;r++){const s=We[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;We.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Oc(t){if(Kr.length){const e=[...new Set(Kr)].sort((r,s)=>Os(r)-Os(s));if(Kr.length=0,Zt){Zt.push(...e);return}for(Zt=e,Dr=0;Dr<Zt.length;Dr++){const r=Zt[Dr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Zt=null,Dr=0}}const Os=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kc(t){try{for(Tt=0;Tt<We.length;Tt++){const e=We[Tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Us(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Tt<We.length;Tt++){const e=We[Tt];e&&(e.flags&=-2)}Tt=-1,We.length=0,Oc(),bn=null,(We.length||Kr.length)&&kc()}}let rt=null,Tc=null;function wn(t){const e=rt;return rt=t,Tc=t&&t.type.__scopeId||null,e}function at(t,e=rt,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&xn(-1);const o=wn(e);let i;try{i=t(...n)}finally{wn(o),s._d&&xn(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Je(t,e){if(rt===null)return t;const r=Gn(rt),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[o,i,a,l=_e]=e[n];o&&(ne(o)&&(o={mounted:o,updated:o}),o.deep&&Bt(i),s.push({dir:o,instance:r,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function ar(t,e,r,s){const n=t.dirs,o=e&&e.dirs;for(let i=0;i<n.length;i++){const a=n[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Mt(),yt(l,r,8,[t.el,a,t,e]),qt())}}const Wh=Symbol("_vte"),zh=t=>t.__isTeleport,fr=Symbol("_leaveCb"),Js=Symbol("_enterCb");function Gh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nr(()=>{t.isMounted=!0}),$i(()=>{t.isUnmounting=!0}),t}const it=[Function,Array],Jh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it};function Yh(t,e){const{leavingVNodes:r}=t;let s=r.get(e.type);return s||(s=Object.create(null),r.set(e.type,s)),s}function Mo(t,e,r,s,n){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:S,onAfterAppear:k,onAppearCancelled:w}=e,b=String(t.key),x=Yh(r,t),C=(L,te)=>{L&&yt(L,s,9,te)},A=(L,te)=>{const de=te[1];C(L,te),Z(L)?L.every(D=>D.length<=1)&&de():L.length<=1&&de()},I={mode:i,persisted:a,beforeEnter(L){let te=l;if(!r.isMounted)if(o)te=y||l;else return;L[fr]&&L[fr](!0);const de=x[b];de&&Fr(t,de)&&de.el[fr]&&de.el[fr](),C(te,[L])},enter(L){let te=c,de=u,D=d;if(!r.isMounted)if(o)te=S||c,de=k||u,D=w||d;else return;let ae=!1;const ve=L[Js]=Le=>{ae||(ae=!0,Le?C(D,[L]):C(de,[L]),I.delayedLeave&&I.delayedLeave(),L[Js]=void 0)};te?A(te,[L,ve]):ve()},leave(L,te){const de=String(t.key);if(L[Js]&&L[Js](!0),r.isUnmounting)return te();C(h,[L]);let D=!1;const ae=L[fr]=ve=>{D||(D=!0,te(),ve?C(m,[L]):C(p,[L]),L[fr]=void 0,x[de]===t&&delete x[de])};x[de]=t,f?A(f,[L,ae]):ae()},clone(L){return Mo(L,e,r,s)}};return I}function ks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rc(t,e=!1,r){let s=[],n=0;for(let o=0;o<t.length;o++){let i=t[o];const a=r==null?i.key:String(r)+String(i.key!=null?i.key:o);i.type===Ae?(i.patchFlag&128&&n++,s=s.concat(Rc(i.children,e,a))):(e||i.type!==Vt)&&s.push(a!=null?Cr(i,{key:a}):i)}if(n>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function Pc(t,e){return ne(t)?Ie({name:t.name},e,{setup:t}):t}function $c(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const En=new WeakMap;function ms(t,e,r,s,n=!1){if(Z(t)){t.forEach((p,m)=>ms(p,e&&(Z(e)?e[m]:e),r,s,n));return}if(vs(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ms(t,e,r,s.component.subTree);return}const o=s.shapeFlag&4?Gn(s.component):s.el,i=n?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===_e?a.refs={}:a.refs,d=a.setupState,h=fe(d),f=d===_e?Yl:p=>ge(h,p);if(c!=null&&c!==l){if(aa(e),Re(c))u[c]=null,f(c)&&(d[c]=null);else if(Te(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(ne(l))Us(l,a,12,[i,u]);else{const p=Re(l),m=Te(l);if(p||m){const y=()=>{if(t.f){const S=p?f(l)?d[l]:u[l]:l.value;if(n)Z(S)&&wi(S,o);else if(Z(S))S.includes(o)||S.push(o);else if(p)u[l]=[o],f(l)&&(d[l]=u[l]);else{const k=[o];l.value=k,t.k&&(u[t.k]=k)}}else p?(u[l]=i,f(l)&&(d[l]=i)):m&&(l.value=i,t.k&&(u[t.k]=i))};if(i){const S=()=>{y(),En.delete(t)};S.id=-1,En.set(t,S),Xe(S,r)}else aa(t),y()}}}function aa(t){const e=En.get(t);e&&(e.flags|=8,En.delete(t))}Bn().requestIdleCallback;Bn().cancelIdleCallback;const vs=t=>!!t.type.__asyncLoader,jc=t=>t.type.__isKeepAlive;function Zh(t,e){Ic(t,"a",e)}function Qh(t,e){Ic(t,"da",e)}function Ic(t,e,r=He){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Kn(e,s,r),r){let n=r.parent;for(;n&&n.parent;)jc(n.parent.vnode)&&Xh(s,e,r,n),n=n.parent}}function Xh(t,e,r,s){const n=Kn(e,t,s,!0);Nc(()=>{wi(s[e],n)},r)}function Kn(t,e,r=He,s=!1){if(r){const n=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Mt();const a=Ds(r),l=yt(e,r,t,i);return a(),qt(),l});return s?n.unshift(o):n.push(o),o}}const Kt=t=>(e,r=He)=>{(!Rs||t==="sp")&&Kn(t,(...s)=>e(...s),r)},ef=Kt("bm"),nr=Kt("m"),tf=Kt("bu"),Lc=Kt("u"),$i=Kt("bum"),Nc=Kt("um"),rf=Kt("sp"),sf=Kt("rtg"),nf=Kt("rtc");function of(t,e=He){Kn("ec",t,e)}const af="components";function Uc(t,e){return cf(af,t,!0,e)||t}const lf=Symbol.for("v-ndc");function cf(t,e,r=!0,s=!1){const n=rt||He;if(n){const o=n.type;{const a=Zf(o,!1);if(a&&(a===e||a===ut(e)||a===Fn(ut(e))))return o}const i=la(n[t]||o[t],e)||la(n.appContext[t],e);return!i&&s?o:i}}function la(t,e){return t&&(t[e]||t[ut(e)]||t[Fn(ut(e))])}function Ht(t,e,r,s){let n;const o=r,i=Z(t);if(i||Re(t)){const a=i&&rr(t);let l=!1,c=!1;a&&(l=!ct(t),c=sr(t),t=qn(t)),n=new Array(t.length);for(let u=0,d=t.length;u<d;u++)n[u]=e(l?c?yn(De(t[u])):De(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,o)}else if(we(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,o)}}else n=[];return n}const qo=t=>t?su(t)?Gn(t):qo(t.parent):null,ys=Ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qo(t.parent),$root:t=>qo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Fc(t),$forceUpdate:t=>t.f||(t.f=()=>{Pi(t.update)}),$nextTick:t=>t.n||(t.n=Vn.bind(t.proxy)),$watch:t=>Pf.bind(t)}),po=(t,e)=>t!==_e&&!t.__isScriptSetup&&ge(t,e),uf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=i[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return o[e]}else{if(po(s,e))return i[e]=1,s[e];if(n!==_e&&ge(n,e))return i[e]=2,n[e];if((c=t.propsOptions[0])&&ge(c,e))return i[e]=3,o[e];if(r!==_e&&ge(r,e))return i[e]=4,r[e];Ho&&(i[e]=0)}}const u=ys[e];let d,h;if(u)return e==="$attrs"&&qe(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(r!==_e&&ge(r,e))return i[e]=4,r[e];if(h=l.config.globalProperties,ge(h,e))return h[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:o}=t;return po(n,e)?(n[e]=r,!0):s!==_e&&ge(s,e)?(s[e]=r,!0):ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:o,type:i}},a){let l,c;return!!(r[a]||t!==_e&&a[0]!=="$"&&ge(t,a)||po(e,a)||(l=o[0])&&ge(l,a)||ge(s,a)||ge(ys,a)||ge(n.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ge(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ca(t){return Z(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ho=!0;function df(t){const e=Fc(t),r=t.proxy,s=t.ctx;Ho=!1,e.beforeCreate&&ua(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:S,beforeUnmount:k,destroyed:w,unmounted:b,render:x,renderTracked:C,renderTriggered:A,errorCaptured:I,serverPrefetch:L,expose:te,inheritAttrs:de,components:D,directives:ae,filters:ve}=e;if(c&&hf(c,s,null),i)for(const se in i){const le=i[se];ne(le)&&(s[se]=le.bind(r))}if(n){const se=n.call(r,r);we(se)&&(t.data=vt(se))}if(Ho=!0,o)for(const se in o){const le=o[se],nt=ne(le)?le.bind(r,r):ne(le.get)?le.get.bind(r,r):$t,wt=!ne(le)&&ne(le.set)?le.set.bind(r):$t,$e=Ce({get:nt,set:wt});Object.defineProperty(s,se,{enumerable:!0,configurable:!0,get:()=>$e.value,set:ke=>$e.value=ke})}if(a)for(const se in a)Dc(a[se],s,r,se);if(l){const se=ne(l)?l.call(r):l;Reflect.ownKeys(se).forEach(le=>{ln(le,se[le])})}u&&ua(u,t,"c");function ue(se,le){Z(le)?le.forEach(nt=>se(nt.bind(r))):le&&se(le.bind(r))}if(ue(ef,d),ue(nr,h),ue(tf,f),ue(Lc,p),ue(Zh,m),ue(Qh,y),ue(of,I),ue(nf,C),ue(sf,A),ue($i,k),ue(Nc,b),ue(rf,L),Z(te))if(te.length){const se=t.exposed||(t.exposed={});te.forEach(le=>{Object.defineProperty(se,le,{get:()=>r[le],set:nt=>r[le]=nt,enumerable:!0})})}else t.exposed||(t.exposed={});x&&t.render===$t&&(t.render=x),de!=null&&(t.inheritAttrs=de),D&&(t.components=D),ae&&(t.directives=ae),L&&$c(t)}function hf(t,e,r=$t){Z(t)&&(t=Vo(t));for(const s in t){const n=t[s];let o;we(n)?"default"in n?o=mt(n.from||s,n.default,!0):o=mt(n.from||s):o=mt(n),Te(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function ua(t,e,r){yt(Z(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function Dc(t,e,r,s){let n=s.includes(".")?Qc(r,s):()=>r[s];if(Re(t)){const o=e[t];ne(o)&&Fe(n,o)}else if(ne(t))Fe(n,t.bind(r));else if(we(t))if(Z(t))t.forEach(o=>Dc(o,e,r,s));else{const o=ne(t.handler)?t.handler.bind(r):e[t.handler];ne(o)&&Fe(n,o,t)}}function Fc(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>Sn(l,c,i,!0)),Sn(l,e,i)),we(e)&&o.set(e,l),l}function Sn(t,e,r,s=!1){const{mixins:n,extends:o}=e;o&&Sn(t,o,r,!0),n&&n.forEach(i=>Sn(t,i,r,!0));for(const i in e)if(!(s&&i==="expose")){const a=ff[i]||r&&r[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const ff={data:da,props:ha,emits:ha,methods:ds,computed:ds,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:ds,directives:ds,watch:gf,provide:da,inject:pf};function da(t,e){return e?t?function(){return Ie(ne(t)?t.call(this,this):t,ne(e)?e.call(this,this):e)}:e:t}function pf(t,e){return ds(Vo(t),Vo(e))}function Vo(t){if(Z(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function ds(t,e){return t?Ie(Object.create(null),t,e):e}function ha(t,e){return t?Z(t)&&Z(e)?[...new Set([...t,...e])]:Ie(Object.create(null),ca(t),ca(e??{})):e}function gf(t,e){if(!t)return e;if(!e)return t;const r=Ie(Object.create(null),t);for(const s in e)r[s]=Ke(t[s],e[s]);return r}function Bc(){return{app:null,config:{isNativeTag:Yl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mf=0;function vf(t,e){return function(s,n=null){ne(s)||(s=Ie({},s)),n!=null&&!we(n)&&(n=null);const o=Bc(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:mf++,_component:s,_props:n,_container:null,_context:o,_instance:null,version:Xf,get config(){return o.config},set config(u){},use(u,...d){return i.has(u)||(u&&ne(u.install)?(i.add(u),u.install(c,...d)):ne(u)&&(i.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ce(s,n);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Gn(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(yt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Sr;Sr=c;try{return u()}finally{Sr=d}}};return c}}let Sr=null;function ln(t,e){if(He){let r=He.provides;const s=He.parent&&He.parent.provides;s===r&&(r=He.provides=Object.create(s)),r[t]=e}}function mt(t,e,r=!1){const s=Ni();if(s||Sr){let n=Sr?Sr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ne(e)?e.call(s&&s.proxy):e}}function yf(){return!!(Ni()||Sr)}const Mc={},qc=()=>Object.create(Mc),Hc=t=>Object.getPrototypeOf(t)===Mc;function _f(t,e,r,s=!1){const n={},o=qc();t.propsDefaults=Object.create(null),Vc(t,e,n,o);for(const i in t.propsOptions[0])i in n||(n[i]=void 0);r?t.props=s?n:wc(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function bf(t,e,r,s){const{props:n,attrs:o,vnode:{patchFlag:i}}=t,a=fe(n),[l]=t.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Wn(t.emitsOptions,h))continue;const f=e[h];if(l)if(ge(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=ut(h);n[p]=Ko(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{Vc(t,e,n,o)&&(c=!0);let u;for(const d in a)(!e||!ge(e,d)&&((u=Or(d))===d||!ge(e,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(n[d]=Ko(l,a,d,void 0,t,!0)):delete n[d]);if(o!==a)for(const d in o)(!e||!ge(e,d))&&(delete o[d],c=!0)}c&&Ft(t.attrs,"set","")}function Vc(t,e,r,s){const[n,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(fs(l))continue;const c=e[l];let u;n&&ge(n,u=ut(l))?!o||!o.includes(u)?r[u]=c:(a||(a={}))[u]=c:Wn(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=fe(r),c=a||_e;for(let u=0;u<o.length;u++){const d=o[u];r[d]=Ko(n,l,d,c[d],t,!ge(c,d))}}return i}function Ko(t,e,r,s,n,o){const i=t[r];if(i!=null){const a=ge(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ne(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=Ds(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===Or(r))&&(s=!0))}return s}const wf=new WeakMap;function Kc(t,e,r=!1){const s=r?wf:e.propsCache,n=s.get(t);if(n)return n;const o=t.props,i={},a=[];let l=!1;if(!ne(t)){const u=d=>{l=!0;const[h,f]=Kc(d,e,!0);Ie(i,h),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return we(t)&&s.set(t,Hr),Hr;if(Z(o))for(let u=0;u<o.length;u++){const d=ut(o[u]);fa(d)&&(i[d]=_e)}else if(o)for(const u in o){const d=ut(u);if(fa(d)){const h=o[u],f=i[d]=Z(h)||ne(h)?{type:h}:Ie({},h),p=f.type;let m=!1,y=!0;if(Z(p))for(let S=0;S<p.length;++S){const k=p[S],w=ne(k)&&k.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(y=!1)}else m=ne(p)&&p.name==="Boolean";f[0]=m,f[1]=y,(m||ge(f,"default"))&&a.push(d)}}const c=[i,a];return we(t)&&s.set(t,c),c}function fa(t){return t[0]!=="$"&&!fs(t)}const ji=t=>t==="_"||t==="_ctx"||t==="$stable",Ii=t=>Z(t)?t.map(Pt):[Pt(t)],Ef=(t,e,r)=>{if(e._n)return e;const s=at((...n)=>Ii(e(...n)),r);return s._c=!1,s},Wc=(t,e,r)=>{const s=t._ctx;for(const n in t){if(ji(n))continue;const o=t[n];if(ne(o))e[n]=Ef(n,o,s);else if(o!=null){const i=Ii(o);e[n]=()=>i}}},zc=(t,e)=>{const r=Ii(e);t.slots.default=()=>r},Gc=(t,e,r)=>{for(const s in e)(r||!ji(s))&&(t[s]=e[s])},Sf=(t,e,r)=>{const s=t.slots=qc();if(t.vnode.shapeFlag&32){const n=e._;n?(Gc(s,e,r),r&&ec(s,"_",n,!0)):Wc(e,s)}else e&&zc(t,e)},xf=(t,e,r)=>{const{vnode:s,slots:n}=t;let o=!0,i=_e;if(s.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:Gc(n,e,r):(o=!e.$stable,Wc(e,n)),i=e}else e&&(zc(t,e),i={default:1});if(o)for(const a in n)!ji(a)&&i[a]==null&&delete n[a]},Xe=Ff;function Cf(t){return Af(t)}function Af(t,e){const r=Bn();r.__VUE__=!0;const{insert:s,remove:n,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=$t,insertStaticContent:p}=t,m=(v,_,E,R=null,$=null,T=null,F=void 0,U=null,N=!!_.dynamicChildren)=>{if(v===_)return;v&&!Fr(v,_)&&(R=P(v),ke(v,$,T,!0),v=null),_.patchFlag===-2&&(N=!1,_.dynamicChildren=null);const{type:j,ref:Q,shapeFlag:M}=_;switch(j){case zn:y(v,_,E,R);break;case Vt:S(v,_,E,R);break;case cn:v==null&&k(_,E,R,F);break;case Ae:D(v,_,E,R,$,T,F,U,N);break;default:M&1?x(v,_,E,R,$,T,F,U,N):M&6?ae(v,_,E,R,$,T,F,U,N):(M&64||M&128)&&j.process(v,_,E,R,$,T,F,U,N,W)}Q!=null&&$?ms(Q,v&&v.ref,T,_||v,!_):Q==null&&v&&v.ref!=null&&ms(v.ref,null,T,v,!0)},y=(v,_,E,R)=>{if(v==null)s(_.el=a(_.children),E,R);else{const $=_.el=v.el;_.children!==v.children&&c($,_.children)}},S=(v,_,E,R)=>{v==null?s(_.el=l(_.children||""),E,R):_.el=v.el},k=(v,_,E,R)=>{[v.el,v.anchor]=p(v.children,_,E,R,v.el,v.anchor)},w=({el:v,anchor:_},E,R)=>{let $;for(;v&&v!==_;)$=h(v),s(v,E,R),v=$;s(_,E,R)},b=({el:v,anchor:_})=>{let E;for(;v&&v!==_;)E=h(v),n(v),v=E;n(_)},x=(v,_,E,R,$,T,F,U,N)=>{_.type==="svg"?F="svg":_.type==="math"&&(F="mathml"),v==null?C(_,E,R,$,T,F,U,N):L(v,_,$,T,F,U,N)},C=(v,_,E,R,$,T,F,U)=>{let N,j;const{props:Q,shapeFlag:M,transition:Y,dirs:re}=v;if(N=v.el=i(v.type,T,Q&&Q.is,Q),M&8?u(N,v.children):M&16&&I(v.children,N,null,R,$,go(v,T),F,U),re&&ar(v,null,R,"created"),A(N,v,v.scopeId,F,R),Q){for(const Ee in Q)Ee!=="value"&&!fs(Ee)&&o(N,Ee,null,Q[Ee],T,R);"value"in Q&&o(N,"value",null,Q.value,T),(j=Q.onVnodeBeforeMount)&&At(j,R,v)}re&&ar(v,null,R,"beforeMount");const he=Of($,Y);he&&Y.beforeEnter(N),s(N,_,E),((j=Q&&Q.onVnodeMounted)||he||re)&&Xe(()=>{j&&At(j,R,v),he&&Y.enter(N),re&&ar(v,null,R,"mounted")},$)},A=(v,_,E,R,$)=>{if(E&&f(v,E),R)for(let T=0;T<R.length;T++)f(v,R[T]);if($){let T=$.subTree;if(_===T||eu(T.type)&&(T.ssContent===_||T.ssFallback===_)){const F=$.vnode;A(v,F,F.scopeId,F.slotScopeIds,$.parent)}}},I=(v,_,E,R,$,T,F,U,N=0)=>{for(let j=N;j<v.length;j++){const Q=v[j]=U?Qt(v[j]):Pt(v[j]);m(null,Q,_,E,R,$,T,F,U)}},L=(v,_,E,R,$,T,F)=>{const U=_.el=v.el;let{patchFlag:N,dynamicChildren:j,dirs:Q}=_;N|=v.patchFlag&16;const M=v.props||_e,Y=_.props||_e;let re;if(E&&lr(E,!1),(re=Y.onVnodeBeforeUpdate)&&At(re,E,_,v),Q&&ar(_,v,E,"beforeUpdate"),E&&lr(E,!0),(M.innerHTML&&Y.innerHTML==null||M.textContent&&Y.textContent==null)&&u(U,""),j?te(v.dynamicChildren,j,U,E,R,go(_,$),T):F||le(v,_,U,null,E,R,go(_,$),T,!1),N>0){if(N&16)de(U,M,Y,E,$);else if(N&2&&M.class!==Y.class&&o(U,"class",null,Y.class,$),N&4&&o(U,"style",M.style,Y.style,$),N&8){const he=_.dynamicProps;for(let Ee=0;Ee<he.length;Ee++){const me=he[Ee],ze=M[me],Ge=Y[me];(Ge!==ze||me==="value")&&o(U,me,ze,Ge,$,E)}}N&1&&v.children!==_.children&&u(U,_.children)}else!F&&j==null&&de(U,M,Y,E,$);((re=Y.onVnodeUpdated)||Q)&&Xe(()=>{re&&At(re,E,_,v),Q&&ar(_,v,E,"updated")},R)},te=(v,_,E,R,$,T,F)=>{for(let U=0;U<_.length;U++){const N=v[U],j=_[U],Q=N.el&&(N.type===Ae||!Fr(N,j)||N.shapeFlag&198)?d(N.el):E;m(N,j,Q,null,R,$,T,F,!0)}},de=(v,_,E,R,$)=>{if(_!==E){if(_!==_e)for(const T in _)!fs(T)&&!(T in E)&&o(v,T,_[T],null,$,R);for(const T in E){if(fs(T))continue;const F=E[T],U=_[T];F!==U&&T!=="value"&&o(v,T,U,F,$,R)}"value"in E&&o(v,"value",_.value,E.value,$)}},D=(v,_,E,R,$,T,F,U,N)=>{const j=_.el=v?v.el:a(""),Q=_.anchor=v?v.anchor:a("");let{patchFlag:M,dynamicChildren:Y,slotScopeIds:re}=_;re&&(U=U?U.concat(re):re),v==null?(s(j,E,R),s(Q,E,R),I(_.children||[],E,Q,$,T,F,U,N)):M>0&&M&64&&Y&&v.dynamicChildren?(te(v.dynamicChildren,Y,E,$,T,F,U),(_.key!=null||$&&_===$.subTree)&&Jc(v,_,!0)):le(v,_,E,Q,$,T,F,U,N)},ae=(v,_,E,R,$,T,F,U,N)=>{_.slotScopeIds=U,v==null?_.shapeFlag&512?$.ctx.activate(_,E,R,F,N):ve(_,E,R,$,T,F,N):Le(v,_,N)},ve=(v,_,E,R,$,T,F)=>{const U=v.component=Wf(v,R,$);if(jc(v)&&(U.ctx.renderer=W),zf(U,!1,F),U.asyncDep){if($&&$.registerDep(U,ue,F),!v.el){const N=U.subTree=ce(Vt);S(null,N,_,E),v.placeholder=N.el}}else ue(U,v,_,E,$,T,F)},Le=(v,_,E)=>{const R=_.component=v.component;if(Uf(v,_,E))if(R.asyncDep&&!R.asyncResolved){se(R,_,E);return}else R.next=_,R.update();else _.el=v.el,R.vnode=_},ue=(v,_,E,R,$,T,F)=>{const U=()=>{if(v.isMounted){let{next:M,bu:Y,u:re,parent:he,vnode:Ee}=v;{const xt=Yc(v);if(xt){M&&(M.el=Ee.el,se(v,M,F)),xt.asyncDep.then(()=>{v.isUnmounted||U()});return}}let me=M,ze;lr(v,!1),M?(M.el=Ee.el,se(v,M,F)):M=Ee,Y&&an(Y),(ze=M.props&&M.props.onVnodeBeforeUpdate)&&At(ze,he,M,Ee),lr(v,!0);const Ge=ga(v),St=v.subTree;v.subTree=Ge,m(St,Ge,d(St.el),P(St),v,$,T),M.el=Ge.el,me===null&&Df(v,Ge.el),re&&Xe(re,$),(ze=M.props&&M.props.onVnodeUpdated)&&Xe(()=>At(ze,he,M,Ee),$)}else{let M;const{el:Y,props:re}=_,{bm:he,m:Ee,parent:me,root:ze,type:Ge}=v,St=vs(_);lr(v,!1),he&&an(he),!St&&(M=re&&re.onVnodeBeforeMount)&&At(M,me,_),lr(v,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Ge);const xt=v.subTree=ga(v);m(null,xt,E,R,v,$,T),_.el=xt.el}if(Ee&&Xe(Ee,$),!St&&(M=re&&re.onVnodeMounted)){const xt=_;Xe(()=>At(M,me,xt),$)}(_.shapeFlag&256||me&&vs(me.vnode)&&me.vnode.shapeFlag&256)&&v.a&&Xe(v.a,$),v.isMounted=!0,_=E=R=null}};v.scope.on();const N=v.effect=new ac(U);v.scope.off();const j=v.update=N.run.bind(N),Q=v.job=N.runIfDirty.bind(N);Q.i=v,Q.id=v.uid,N.scheduler=()=>Pi(Q),lr(v,!0),j()},se=(v,_,E)=>{_.component=v;const R=v.vnode.props;v.vnode=_,v.next=null,bf(v,_.props,R,E),xf(v,_.children,E),Mt(),ia(v),qt()},le=(v,_,E,R,$,T,F,U,N=!1)=>{const j=v&&v.children,Q=v?v.shapeFlag:0,M=_.children,{patchFlag:Y,shapeFlag:re}=_;if(Y>0){if(Y&128){wt(j,M,E,R,$,T,F,U,N);return}else if(Y&256){nt(j,M,E,R,$,T,F,U,N);return}}re&8?(Q&16&&ot(j,$,T),M!==j&&u(E,M)):Q&16?re&16?wt(j,M,E,R,$,T,F,U,N):ot(j,$,T,!0):(Q&8&&u(E,""),re&16&&I(M,E,R,$,T,F,U,N))},nt=(v,_,E,R,$,T,F,U,N)=>{v=v||Hr,_=_||Hr;const j=v.length,Q=_.length,M=Math.min(j,Q);let Y;for(Y=0;Y<M;Y++){const re=_[Y]=N?Qt(_[Y]):Pt(_[Y]);m(v[Y],re,E,null,$,T,F,U,N)}j>Q?ot(v,$,T,!0,!1,M):I(_,E,R,$,T,F,U,N,M)},wt=(v,_,E,R,$,T,F,U,N)=>{let j=0;const Q=_.length;let M=v.length-1,Y=Q-1;for(;j<=M&&j<=Y;){const re=v[j],he=_[j]=N?Qt(_[j]):Pt(_[j]);if(Fr(re,he))m(re,he,E,null,$,T,F,U,N);else break;j++}for(;j<=M&&j<=Y;){const re=v[M],he=_[Y]=N?Qt(_[Y]):Pt(_[Y]);if(Fr(re,he))m(re,he,E,null,$,T,F,U,N);else break;M--,Y--}if(j>M){if(j<=Y){const re=Y+1,he=re<Q?_[re].el:R;for(;j<=Y;)m(null,_[j]=N?Qt(_[j]):Pt(_[j]),E,he,$,T,F,U,N),j++}}else if(j>Y)for(;j<=M;)ke(v[j],$,T,!0),j++;else{const re=j,he=j,Ee=new Map;for(j=he;j<=Y;j++){const Qe=_[j]=N?Qt(_[j]):Pt(_[j]);Qe.key!=null&&Ee.set(Qe.key,j)}let me,ze=0;const Ge=Y-he+1;let St=!1,xt=0;const is=new Array(Ge);for(j=0;j<Ge;j++)is[j]=0;for(j=re;j<=M;j++){const Qe=v[j];if(ze>=Ge){ke(Qe,$,T,!0);continue}let Ct;if(Qe.key!=null)Ct=Ee.get(Qe.key);else for(me=he;me<=Y;me++)if(is[me-he]===0&&Fr(Qe,_[me])){Ct=me;break}Ct===void 0?ke(Qe,$,T,!0):(is[Ct-he]=j+1,Ct>=xt?xt=Ct:St=!0,m(Qe,_[Ct],E,null,$,T,F,U,N),ze++)}const Xi=St?kf(is):Hr;for(me=Xi.length-1,j=Ge-1;j>=0;j--){const Qe=he+j,Ct=_[Qe],ea=_[Qe+1],ta=Qe+1<Q?ea.el||ea.placeholder:R;is[j]===0?m(null,Ct,E,ta,$,T,F,U,N):St&&(me<0||j!==Xi[me]?$e(Ct,E,ta,2):me--)}}},$e=(v,_,E,R,$=null)=>{const{el:T,type:F,transition:U,children:N,shapeFlag:j}=v;if(j&6){$e(v.component.subTree,_,E,R);return}if(j&128){v.suspense.move(_,E,R);return}if(j&64){F.move(v,_,E,W);return}if(F===Ae){s(T,_,E);for(let M=0;M<N.length;M++)$e(N[M],_,E,R);s(v.anchor,_,E);return}if(F===cn){w(v,_,E);return}if(R!==2&&j&1&&U)if(R===0)U.beforeEnter(T),s(T,_,E),Xe(()=>U.enter(T),$);else{const{leave:M,delayLeave:Y,afterLeave:re}=U,he=()=>{v.ctx.isUnmounted?n(T):s(T,_,E)},Ee=()=>{T._isLeaving&&T[fr](!0),M(T,()=>{he(),re&&re()})};Y?Y(T,he,Ee):Ee()}else s(T,_,E)},ke=(v,_,E,R=!1,$=!1)=>{const{type:T,props:F,ref:U,children:N,dynamicChildren:j,shapeFlag:Q,patchFlag:M,dirs:Y,cacheIndex:re}=v;if(M===-2&&($=!1),U!=null&&(Mt(),ms(U,null,E,v,!0),qt()),re!=null&&(_.renderCache[re]=void 0),Q&256){_.ctx.deactivate(v);return}const he=Q&1&&Y,Ee=!vs(v);let me;if(Ee&&(me=F&&F.onVnodeBeforeUnmount)&&At(me,_,v),Q&6)ir(v.component,E,R);else{if(Q&128){v.suspense.unmount(E,R);return}he&&ar(v,null,_,"beforeUnmount"),Q&64?v.type.remove(v,_,E,W,R):j&&!j.hasOnce&&(T!==Ae||M>0&&M&64)?ot(j,_,E,!1,!0):(T===Ae&&M&384||!$&&Q&16)&&ot(N,_,E),R&&Et(v)}(Ee&&(me=F&&F.onVnodeUnmounted)||he)&&Xe(()=>{me&&At(me,_,v),he&&ar(v,null,_,"unmounted")},E)},Et=v=>{const{type:_,el:E,anchor:R,transition:$}=v;if(_===Ae){dt(E,R);return}if(_===cn){b(v);return}const T=()=>{n(E),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(v.shapeFlag&1&&$&&!$.persisted){const{leave:F,delayLeave:U}=$,N=()=>F(E,T);U?U(v.el,T,N):N()}else T()},dt=(v,_)=>{let E;for(;v!==_;)E=h(v),n(v),v=E;n(_)},ir=(v,_,E)=>{const{bum:R,scope:$,job:T,subTree:F,um:U,m:N,a:j}=v;pa(N),pa(j),R&&an(R),$.stop(),T&&(T.flags|=8,ke(F,v,_,E)),U&&Xe(U,_),Xe(()=>{v.isUnmounted=!0},_)},ot=(v,_,E,R=!1,$=!1,T=0)=>{for(let F=T;F<v.length;F++)ke(v[F],_,E,R,$)},P=v=>{if(v.shapeFlag&6)return P(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const _=h(v.anchor||v.el),E=_&&_[Wh];return E?h(E):_};let H=!1;const B=(v,_,E)=>{v==null?_._vnode&&ke(_._vnode,null,null,!0):m(_._vnode||null,v,_,null,null,null,E),_._vnode=v,H||(H=!0,ia(),Oc(),H=!1)},W={p:m,um:ke,m:$e,r:Et,mt:ve,mc:I,pc:le,pbc:te,n:P,o:t};return{render:B,hydrate:void 0,createApp:vf(B)}}function go({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function lr({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Of(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Jc(t,e,r=!1){const s=t.children,n=e.children;if(Z(s)&&Z(n))for(let o=0;o<s.length;o++){const i=s[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Qt(n[o]),a.el=i.el),!r&&a.patchFlag!==-2&&Jc(i,a)),a.type===zn&&a.patchFlag!==-1&&(a.el=i.el),a.type===Vt&&!a.el&&(a.el=i.el)}}function kf(t){const e=t.slice(),r=[0];let s,n,o,i,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(o=0,i=r.length-1;o<i;)a=o+i>>1,t[r[a]]<c?o=a+1:i=a;c<t[r[o]]&&(o>0&&(e[s]=r[o-1]),r[o]=s)}}for(o=r.length,i=r[o-1];o-- >0;)r[o]=i,i=e[i];return r}function Yc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Yc(e)}function pa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Tf=Symbol.for("v-scx"),Rf=()=>mt(Tf);function Fe(t,e,r){return Zc(t,e,r)}function Zc(t,e,r=_e){const{immediate:s,deep:n,flush:o,once:i}=r,a=Ie({},r),l=e&&s||!e&&o!=="post";let c;if(Rs){if(o==="sync"){const f=Rf();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=$t,f.resume=$t,f.pause=$t,f}}const u=He;a.call=(f,p,m)=>yt(f,u,p,m);let d=!1;o==="post"?a.scheduler=f=>{Xe(f,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():Pi(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=qh(t,e,a);return Rs&&(c?c.push(h):l&&h()),h}function Pf(t,e,r){const s=this.proxy,n=Re(t)?t.includes(".")?Qc(s,t):()=>s[t]:t.bind(s,s);let o;ne(e)?o=e:(o=e.handler,r=e);const i=Ds(this),a=Zc(n,o.bind(s),r);return i(),a}function Qc(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const $f=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ut(e)}Modifiers`]||t[`${Or(e)}Modifiers`];function jf(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||_e;let n=r;const o=e.startsWith("update:"),i=o&&$f(s,e.slice(7));i&&(i.trim&&(n=r.map(u=>Re(u)?u.trim():u)),i.number&&(n=r.map(mn)));let a,l=s[a=lo(e)]||s[a=lo(ut(e))];!l&&o&&(l=s[a=lo(Or(e))]),l&&yt(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yt(c,t,6,n)}}const If=new WeakMap;function Xc(t,e,r=!1){const s=r?If:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const o=t.emits;let i={},a=!1;if(!ne(t)){const l=c=>{const u=Xc(c,e,!0);u&&(a=!0,Ie(i,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(we(t)&&s.set(t,null),null):(Z(o)?o.forEach(l=>i[l]=null):Ie(i,o),we(t)&&s.set(t,i),i)}function Wn(t,e){return!t||!Nn(e)?!1:(e=e.slice(2).replace(/Once$/,""),ge(t,e[0].toLowerCase()+e.slice(1))||ge(t,Or(e))||ge(t,e))}function ga(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,y=wn(t);let S,k;try{if(r.shapeFlag&4){const b=n||s,x=b;S=Pt(c.call(x,b,u,d,f,h,p)),k=a}else{const b=e;S=Pt(b.length>1?b(d,{attrs:a,slots:i,emit:l}):b(d,null)),k=e.props?a:Lf(a)}}catch(b){_s.length=0,Hn(b,t,1),S=ce(Vt)}let w=S;if(k&&m!==!1){const b=Object.keys(k),{shapeFlag:x}=w;b.length&&x&7&&(o&&b.some(bi)&&(k=Nf(k,o)),w=Cr(w,k,!1,!0))}return r.dirs&&(w=Cr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&ks(w,r.transition),S=w,wn(y),S}const Lf=t=>{let e;for(const r in t)(r==="class"||r==="style"||Nn(r))&&((e||(e={}))[r]=t[r]);return e},Nf=(t,e)=>{const r={};for(const s in t)(!bi(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function Uf(t,e,r){const{props:s,children:n,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?ma(s,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(i[h]!==s[h]&&!Wn(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ma(s,i,c):!0:!!i;return!1}function ma(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const o=s[n];if(e[o]!==t[o]&&!Wn(r,o))return!0}return!1}function Df({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const eu=t=>t.__isSuspense;function Ff(t,e){e&&e.pendingBranch?Z(t)?e.effects.push(...t):e.effects.push(t):Kh(t)}const Ae=Symbol.for("v-fgt"),zn=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),cn=Symbol.for("v-stc"),_s=[];let st=null;function q(t=!1){_s.push(st=t?null:[])}function Bf(){_s.pop(),st=_s[_s.length-1]||null}let Ts=1;function xn(t,e=!1){Ts+=t,t<0&&st&&e&&(st.hasOnce=!0)}function tu(t){return t.dynamicChildren=Ts>0?st||Hr:null,Bf(),Ts>0&&st&&st.push(t),t}function V(t,e,r,s,n,o){return tu(g(t,e,r,s,n,o,!0))}function pr(t,e,r,s,n){return tu(ce(t,e,r,s,n,!0))}function Cn(t){return t?t.__v_isVNode===!0:!1}function Fr(t,e){return t.type===e.type&&t.key===e.key}const ru=({key:t})=>t??null,un=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Re(t)||Te(t)||ne(t)?{i:rt,r:t,k:e,f:!!r}:t:null);function g(t,e=null,r=null,s=0,n=null,o=t===Ae?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ru(e),ref:e&&un(e),scopeId:Tc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:rt};return a?(Li(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=Re(r)?8:16),Ts>0&&!i&&st&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&st.push(l),l}const ce=Mf;function Mf(t,e=null,r=null,s=0,n=null,o=!1){if((!t||t===lf)&&(t=Vt),Cn(t)){const a=Cr(t,e,!0);return r&&Li(a,r),Ts>0&&!o&&st&&(a.shapeFlag&6?st[st.indexOf(t)]=a:st.push(a)),a.patchFlag=-2,a}if(Qf(t)&&(t=t.__vccOpts),e){e=qf(e);let{class:a,style:l}=e;a&&!Re(a)&&(e.class=Ue(a)),we(l)&&(Ti(l)&&!Z(l)&&(l=Ie({},l)),e.style=Xr(l))}const i=Re(t)?1:eu(t)?128:zh(t)?64:we(t)?4:ne(t)?2:0;return g(t,e,r,s,n,i,o,!0)}function qf(t){return t?Ti(t)||Hc(t)?Ie({},t):t:null}function Cr(t,e,r=!1,s=!1){const{props:n,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?Hf(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ru(c),ref:e&&e.ref?r&&o?Z(o)?o.concat(un(e)):[o,un(e)]:un(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ae?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cr(t.ssContent),ssFallback:t.ssFallback&&Cr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ks(u,l.clone(u)),u}function Rt(t=" ",e=0){return ce(zn,null,t,e)}function Wo(t,e){const r=ce(cn,null,t);return r.staticCount=e,r}function be(t="",e=!1){return e?(q(),pr(Vt,null,t)):ce(Vt,null,t)}function Pt(t){return t==null||typeof t=="boolean"?ce(Vt):Z(t)?ce(Ae,null,t.slice()):Cn(t)?Qt(t):ce(zn,null,String(t))}function Qt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Cr(t)}function Li(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Z(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Li(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Hc(e)?e._ctx=rt:n===3&&rt&&(rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ne(e)?(e={default:e,_ctx:rt},r=32):(e=String(e),s&64?(r=16,e=[Rt(e)]):r=8);t.children=e,t.shapeFlag|=r}function Hf(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=Ue([e.class,s.class]));else if(n==="style")e.style=Xr([e.style,s.style]);else if(Nn(n)){const o=e[n],i=s[n];i&&o!==i&&!(Z(o)&&o.includes(i))&&(e[n]=o?[].concat(o,i):i)}else n!==""&&(e[n]=s[n])}return e}function At(t,e,r,s=null){yt(t,e,7,[r,s])}const Vf=Bc();let Kf=0;function Wf(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||Vf,o={uid:Kf++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kc(s,n),emitsOptions:Xc(s,n),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:s.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=jf.bind(null,o),t.ce&&t.ce(o),o}let He=null;const Ni=()=>He||rt;let An,zo;{const t=Bn(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};An=e("__VUE_INSTANCE_SETTERS__",r=>He=r),zo=e("__VUE_SSR_SETTERS__",r=>Rs=r)}const Ds=t=>{const e=He;return An(t),t.scope.on(),()=>{t.scope.off(),An(e)}},va=()=>{He&&He.scope.off(),An(null)};function su(t){return t.vnode.shapeFlag&4}let Rs=!1;function zf(t,e=!1,r=!1){e&&zo(e);const{props:s,children:n}=t.vnode,o=su(t);_f(t,s,o,e),Sf(t,n,r||e);const i=o?Gf(t,e):void 0;return e&&zo(!1),i}function Gf(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uf);const{setup:s}=r;if(s){Mt();const n=t.setupContext=s.length>1?Yf(t):null,o=Ds(t),i=Us(s,t,0,[t.props,n]),a=Zl(i);if(qt(),o(),(a||t.sp)&&!vs(t)&&$c(t),a){if(i.then(va,va),e)return i.then(l=>{ya(t,l)}).catch(l=>{Hn(l,t,0)});t.asyncDep=i}else ya(t,i)}else nu(t)}function ya(t,e,r){ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=xc(e)),nu(t)}function nu(t,e,r){const s=t.type;t.render||(t.render=s.render||$t);{const n=Ds(t);Mt();try{df(t)}finally{qt(),n()}}}const Jf={get(t,e){return qe(t,"get",""),t[e]}};function Yf(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Jf),slots:t.slots,emit:t.emit,expose:e}}function Gn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(xc(Ri(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ys)return ys[r](t)},has(e,r){return r in e||r in ys}})):t.proxy}function Zf(t,e=!0){return ne(t)?t.displayName||t.name:t.name||e&&t.__name}function Qf(t){return ne(t)&&"__vccOpts"in t}const Ce=(t,e)=>Bh(t,e,Rs);function ou(t,e,r){const s=(o,i,a)=>{xn(-1);try{return ce(o,i,a)}finally{xn(1)}},n=arguments.length;return n===2?we(e)&&!Z(e)?Cn(e)?s(t,null,[e]):s(t,e):s(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Cn(r)&&(r=[r]),s(t,e,r))}const Xf="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Go;const _a=typeof window<"u"&&window.trustedTypes;if(_a)try{Go=_a.createPolicy("vue",{createHTML:t=>t})}catch{}const iu=Go?t=>Go.createHTML(t):t=>t,ep="http://www.w3.org/2000/svg",tp="http://www.w3.org/1998/Math/MathML",Ut=typeof document<"u"?document:null,ba=Ut&&Ut.createElement("template"),rp={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?Ut.createElementNS(ep,t):e==="mathml"?Ut.createElementNS(tp,t):r?Ut.createElement(t,{is:r}):Ut.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>Ut.createTextNode(t),createComment:t=>Ut.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ut.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,o){const i=r?r.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{ba.innerHTML=iu(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ba.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[i?i.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Wt="transition",ls="animation",Gr=Symbol("_vtc"),au={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sp=Ie({},Jh,au),cr=(t,e=[])=>{Z(t)?t.forEach(r=>r(...e)):t&&t(...e)},wa=t=>t?Z(t)?t.some(e=>e.length>1):t.length>1:!1;function np(t){const e={};for(const D in t)D in au||(e[D]=t[D]);if(t.css===!1)return e;const{name:r="v",type:s,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:i=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=t,p=op(n),m=p&&p[0],y=p&&p[1],{onBeforeEnter:S,onEnter:k,onEnterCancelled:w,onLeave:b,onLeaveCancelled:x,onBeforeAppear:C=S,onAppear:A=k,onAppearCancelled:I=w}=e,L=(D,ae,ve,Le)=>{D._enterCancelled=Le,Jt(D,ae?u:a),Jt(D,ae?c:i),ve&&ve()},te=(D,ae)=>{D._isLeaving=!1,Jt(D,d),Jt(D,f),Jt(D,h),ae&&ae()},de=D=>(ae,ve)=>{const Le=D?A:k,ue=()=>L(ae,D,ve);cr(Le,[ae,ue]),Ea(()=>{Jt(ae,D?l:o),kt(ae,D?u:a),wa(Le)||Sa(ae,s,m,ue)})};return Ie(e,{onBeforeEnter(D){cr(S,[D]),kt(D,o),kt(D,i)},onBeforeAppear(D){cr(C,[D]),kt(D,l),kt(D,c)},onEnter:de(!1),onAppear:de(!0),onLeave(D,ae){D._isLeaving=!0;const ve=()=>te(D,ae);kt(D,d),D._enterCancelled?(kt(D,h),Jo()):(Jo(),kt(D,h)),Ea(()=>{D._isLeaving&&(Jt(D,d),kt(D,f),wa(b)||Sa(D,s,y,ve))}),cr(b,[D,ve])},onEnterCancelled(D){L(D,!1,void 0,!0),cr(w,[D])},onAppearCancelled(D){L(D,!0,void 0,!0),cr(I,[D])},onLeaveCancelled(D){te(D),cr(x,[D])}})}function op(t){if(t==null)return null;if(we(t))return[mo(t.enter),mo(t.leave)];{const e=mo(t);return[e,e]}}function mo(t){return nh(t)}function kt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Gr]||(t[Gr]=new Set)).add(e)}function Jt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const r=t[Gr];r&&(r.delete(e),r.size||(t[Gr]=void 0))}function Ea(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ip=0;function Sa(t,e,r,s){const n=t._endId=++ip,o=()=>{n===t._endId&&s()};if(r!=null)return setTimeout(o,r);const{type:i,timeout:a,propCount:l}=lu(t,e);if(!i)return s();const c=i+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function lu(t,e){const r=window.getComputedStyle(t),s=p=>(r[p]||"").split(", "),n=s(`${Wt}Delay`),o=s(`${Wt}Duration`),i=xa(n,o),a=s(`${ls}Delay`),l=s(`${ls}Duration`),c=xa(a,l);let u=null,d=0,h=0;e===Wt?i>0&&(u=Wt,d=i,h=o.length):e===ls?c>0&&(u=ls,d=c,h=l.length):(d=Math.max(i,c),u=d>0?i>c?Wt:ls:null,h=u?u===Wt?o.length:l.length:0);const f=u===Wt&&/\b(?:transform|all)(?:,|$)/.test(s(`${Wt}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function xa(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,s)=>Ca(r)+Ca(t[s])))}function Ca(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jo(){return document.body.offsetHeight}function ap(t,e,r){const s=t[Gr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Aa=Symbol("_vod"),lp=Symbol("_vsh"),cp=Symbol(""),up=/(?:^|;)\s*display\s*:/;function dp(t,e,r){const s=t.style,n=Re(r);let o=!1;if(r&&!n){if(e)if(Re(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();r[a]==null&&dn(s,a,"")}else for(const i in e)r[i]==null&&dn(s,i,"");for(const i in r)i==="display"&&(o=!0),dn(s,i,r[i])}else if(n){if(e!==r){const i=s[cp];i&&(r+=";"+i),s.cssText=r,o=up.test(r)}}else e&&t.removeAttribute("style");Aa in t&&(t[Aa]=o?s.display:"",t[lp]&&(s.display="none"))}const Oa=/\s*!important$/;function dn(t,e,r){if(Z(r))r.forEach(s=>dn(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=hp(t,e);Oa.test(r)?t.setProperty(Or(s),r.replace(Oa,""),"important"):t[s]=r}}const ka=["Webkit","Moz","ms"],vo={};function hp(t,e){const r=vo[e];if(r)return r;let s=ut(e);if(s!=="filter"&&s in t)return vo[e]=s;s=Fn(s);for(let n=0;n<ka.length;n++){const o=ka[n]+s;if(o in t)return vo[e]=o}return e}const Ta="http://www.w3.org/1999/xlink";function Ra(t,e,r,s,n,o=uh(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Ta,e.slice(6,e.length)):t.setAttributeNS(Ta,e,r):r==null||o&&!tc(r)?t.removeAttribute(e):t.setAttribute(e,o?"":It(r)?String(r):r)}function Pa(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?iu(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let i=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=tc(r):r==null&&a==="string"?(r="",i=!0):a==="number"&&(r=0,i=!0)}try{t[e]=r}catch{}i&&t.removeAttribute(n||e)}function mr(t,e,r,s){t.addEventListener(e,r,s)}function fp(t,e,r,s){t.removeEventListener(e,r,s)}const $a=Symbol("_vei");function pp(t,e,r,s,n=null){const o=t[$a]||(t[$a]={}),i=o[e];if(s&&i)i.value=s;else{const[a,l]=gp(e);if(s){const c=o[e]=yp(s,n);mr(t,a,c,l)}else i&&(fp(t,a,i,l),o[e]=void 0)}}const ja=/(?:Once|Passive|Capture)$/;function gp(t){let e;if(ja.test(t)){e={};let s;for(;s=t.match(ja);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Or(t.slice(2)),e]}let yo=0;const mp=Promise.resolve(),vp=()=>yo||(mp.then(()=>yo=0),yo=Date.now());function yp(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;yt(_p(s,r.value),e,5,[s])};return r.value=t,r.attached=vp(),r}function _p(t,e){if(Z(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Ia=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bp=(t,e,r,s,n,o)=>{const i=n==="svg";e==="class"?ap(t,s,i):e==="style"?dp(t,r,s):Nn(e)?bi(e)||pp(t,e,r,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wp(t,e,s,i))?(Pa(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ra(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Re(s))?Pa(t,ut(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Ra(t,e,s,i))};function wp(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ia(e)&&ne(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ia(e)&&Re(r)?!1:e in t}const cu=new WeakMap,uu=new WeakMap,On=Symbol("_moveCb"),La=Symbol("_enterCb"),Ep=t=>(delete t.props.mode,t),Sp=Ep({name:"TransitionGroup",props:Ie({},sp,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Ni(),s=Gh();let n,o;return Lc(()=>{if(!n.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!kp(n[0].el,r.vnode.el,i)){n=[];return}n.forEach(Cp),n.forEach(Ap);const a=n.filter(Op);Jo(),a.forEach(l=>{const c=l.el,u=c.style;kt(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[On]=h=>{h&&h.target!==c||(!h||h.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",d),c[On]=null,Jt(c,i))};c.addEventListener("transitionend",d)}),n=[]}),()=>{const i=fe(t),a=np(i);let l=i.tag||Ae;if(n=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(n.push(u),ks(u,Mo(u,a,s,r)),cu.set(u,u.el.getBoundingClientRect()))}o=e.default?Rc(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&ks(u,Mo(u,a,s,r))}return ce(l,null,o)}}}),xp=Sp;function Cp(t){const e=t.el;e[On]&&e[On](),e[La]&&e[La]()}function Ap(t){uu.set(t,t.el.getBoundingClientRect())}function Op(t){const e=cu.get(t),r=uu.get(t),s=e.left-r.left,n=e.top-r.top;if(s||n){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${n}px)`,o.transitionDuration="0s",t}}function kp(t,e,r){const s=t.cloneNode(),n=t[Gr];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(s);const{hasTransform:i}=lu(s);return o.removeChild(s),i}const kn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Z(e)?r=>an(e,r):e};function Tp(t){t.target.composing=!0}function Na(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wr=Symbol("_assign"),jt={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[Wr]=kn(n);const o=s||n.props&&n.props.type==="number";mr(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;r&&(a=a.trim()),o&&(a=mn(a)),t[Wr](a)}),r&&mr(t,"change",()=>{t.value=t.value.trim()}),e||(mr(t,"compositionstart",Tp),mr(t,"compositionend",Na),mr(t,"change",Na))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:o}},i){if(t[Wr]=kn(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?mn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},hn={deep:!0,created(t,{value:e,modifiers:{number:r}},s){const n=Un(e);mr(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>r?mn(Tn(i)):Tn(i));t[Wr](t.multiple?n?new Set(o):o:o[0]),t._assigning=!0,Vn(()=>{t._assigning=!1})}),t[Wr]=kn(s)},mounted(t,{value:e}){Ua(t,e)},beforeUpdate(t,e,r){t[Wr]=kn(r)},updated(t,{value:e}){t._assigning||Ua(t,e)}};function Ua(t,e){const r=t.multiple,s=Z(e);if(!(r&&!s&&!Un(e))){for(let n=0,o=t.options.length;n<o;n++){const i=t.options[n],a=Tn(i);if(r)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=hh(e,a)>-1}else i.selected=e.has(a);else if(Mn(Tn(i),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Tn(t){return"_value"in t?t._value:t.value}const Rp=["ctrl","shift","alt","meta"],Pp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Rp.some(r=>t[`${r}Key`]&&!e.includes(r))},Jn=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=((n,...o)=>{for(let i=0;i<e.length;i++){const a=Pp[e[i]];if(a&&a(n,e))return}return t(n,...o)}))},$p=Ie({patchProp:bp},rp);let Da;function jp(){return Da||(Da=Cf($p))}const Ip=((...t)=>{const e=jp().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=Np(s);if(!n)return;const o=e._component;!ne(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=r(n,!1,Lp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e});function Lp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Np(t){return Re(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let du;const Yn=t=>du=t,hu=Symbol();function Yo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var bs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(bs||(bs={}));function Up(){const t=oc(!0),e=t.run(()=>X({}));let r=[],s=[];const n=Ri({install(o){Yn(n),n._a=o,o.provide(hu,n),o.config.globalProperties.$pinia=n,s.forEach(i=>r.push(i)),s=[]},use(o){return this._a?r.push(o):s.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const fu=()=>{};function Fa(t,e,r,s=fu){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!r&&ic()&&fh(n),n}function $r(t,...e){t.slice().forEach(r=>{r(...e)})}const Dp=t=>t(),Ba=Symbol(),_o=Symbol();function Zo(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];Yo(n)&&Yo(s)&&t.hasOwnProperty(r)&&!Te(s)&&!rr(s)?t[r]=Zo(n,s):t[r]=s}return t}const Fp=Symbol();function Bp(t){return!Yo(t)||!Object.prototype.hasOwnProperty.call(t,Fp)}const{assign:Yt}=Object;function Mp(t){return!!(Te(t)&&t.effect)}function qp(t,e,r,s){const{state:n,actions:o,getters:i}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const u=Nh(r.state.value[t]);return Yt(u,o,Object.keys(i||{}).reduce((d,h)=>(d[h]=Ri(Ce(()=>{Yn(r);const f=r._s.get(t);return i[h].call(f,f)})),d),{}))}return l=pu(t,c,e,r,s,!0),l}function pu(t,e,r={},s,n,o){let i;const a=Yt({actions:{}},r),l={deep:!0};let c,u,d=[],h=[],f;const p=s.state.value[t];!o&&!p&&(s.state.value[t]={}),X({});let m;function y(I){let L;c=u=!1,typeof I=="function"?(I(s.state.value[t]),L={type:bs.patchFunction,storeId:t,events:f}):(Zo(s.state.value[t],I),L={type:bs.patchObject,payload:I,storeId:t,events:f});const te=m=Symbol();Vn().then(()=>{m===te&&(c=!0)}),u=!0,$r(d,L,s.state.value[t])}const S=o?function(){const{state:L}=r,te=L?L():{};this.$patch(de=>{Yt(de,te)})}:fu;function k(){i.stop(),d=[],h=[],s._s.delete(t)}const w=(I,L="")=>{if(Ba in I)return I[_o]=L,I;const te=function(){Yn(s);const de=Array.from(arguments),D=[],ae=[];function ve(se){D.push(se)}function Le(se){ae.push(se)}$r(h,{args:de,name:te[_o],store:x,after:ve,onError:Le});let ue;try{ue=I.apply(this&&this.$id===t?this:x,de)}catch(se){throw $r(ae,se),se}return ue instanceof Promise?ue.then(se=>($r(D,se),se)).catch(se=>($r(ae,se),Promise.reject(se))):($r(D,ue),ue)};return te[Ba]=!0,te[_o]=L,te},b={_p:s,$id:t,$onAction:Fa.bind(null,h),$patch:y,$reset:S,$subscribe(I,L={}){const te=Fa(d,I,L.detached,()=>de()),de=i.run(()=>Fe(()=>s.state.value[t],D=>{(L.flush==="sync"?u:c)&&I({storeId:t,type:bs.direct,events:f},D)},Yt({},l,L)));return te},$dispose:k},x=vt(b);s._s.set(t,x);const A=(s._a&&s._a.runWithContext||Dp)(()=>s._e.run(()=>(i=oc()).run(()=>e({action:w}))));for(const I in A){const L=A[I];if(Te(L)&&!Mp(L)||rr(L))o||(p&&Bp(L)&&(Te(L)?L.value=p[I]:Zo(L,p[I])),s.state.value[t][I]=L);else if(typeof L=="function"){const te=w(L,I);A[I]=te,a.actions[I]=L}}return Yt(x,A),Yt(fe(x),A),Object.defineProperty(x,"$state",{get:()=>s.state.value[t],set:I=>{y(L=>{Yt(L,I)})}}),s._p.forEach(I=>{Yt(x,i.run(()=>I({store:x,app:s._a,pinia:s,options:a})))}),p&&o&&r.hydrate&&r.hydrate(x.$state,p),c=!0,u=!0,x}/*! #__NO_SIDE_EFFECTS__ */function es(t,e,r){let s;const n=typeof e=="function";s=n?r:e;function o(i,a){const l=yf();return i=i||(l?mt(hu,null):null),i&&Yn(i),i=du,i._s.has(t)||(n?pu(t,e,s,i):qp(t,s,i)),i._s.get(t)}return o.$id=t,o}function gu(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hp}=Object.prototype,{getPrototypeOf:Ui}=Object,{iterator:Zn,toStringTag:mu}=Symbol,Qn=(t=>e=>{const r=Hp.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),bt=t=>(t=t.toLowerCase(),e=>Qn(e)===t),Xn=t=>e=>typeof e===t,{isArray:ts}=Array,Jr=Xn("undefined");function Fs(t){return t!==null&&!Jr(t)&&t.constructor!==null&&!Jr(t.constructor)&&Ye(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const vu=bt("ArrayBuffer");function Vp(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&vu(t.buffer),e}const Kp=Xn("string"),Ye=Xn("function"),yu=Xn("number"),Bs=t=>t!==null&&typeof t=="object",Wp=t=>t===!0||t===!1,fn=t=>{if(Qn(t)!=="object")return!1;const e=Ui(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mu in t)&&!(Zn in t)},zp=t=>{if(!Bs(t)||Fs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gp=bt("Date"),Jp=bt("File"),Yp=bt("Blob"),Zp=bt("FileList"),Qp=t=>Bs(t)&&Ye(t.pipe),Xp=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ye(t.append)&&((e=Qn(t))==="formdata"||e==="object"&&Ye(t.toString)&&t.toString()==="[object FormData]"))},eg=bt("URLSearchParams"),[tg,rg,sg,ng]=["ReadableStream","Request","Response","Headers"].map(bt),og=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),ts(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{if(Fs(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function _u(t,e){if(Fs(t))return null;e=e.toLowerCase();const r=Object.keys(t);let s=r.length,n;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bu=t=>!Jr(t)&&t!==br;function Qo(){const{caseless:t,skipUndefined:e}=bu(this)&&this||{},r={},s=(n,o)=>{const i=t&&_u(r,o)||o;fn(r[i])&&fn(n)?r[i]=Qo(r[i],n):fn(n)?r[i]=Qo({},n):ts(n)?r[i]=n.slice():(!e||!Jr(n))&&(r[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Ms(arguments[n],s);return r}const ig=(t,e,r,{allOwnKeys:s}={})=>(Ms(e,(n,o)=>{r&&Ye(n)?t[o]=gu(n,r):t[o]=n},{allOwnKeys:s}),t),ag=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lg=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},cg=(t,e,r,s)=>{let n,o,i;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)i=n[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=r!==!1&&Ui(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ug=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},dg=t=>{if(!t)return null;if(ts(t))return t;let e=t.length;if(!yu(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},hg=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ui(Uint8Array)),fg=(t,e)=>{const s=(t&&t[Zn]).call(t);let n;for(;(n=s.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},pg=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},gg=bt("HTMLFormElement"),mg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Ma=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),vg=bt("RegExp"),wu=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};Ms(r,(n,o)=>{let i;(i=e(n,o,t))!==!1&&(s[o]=i||n)}),Object.defineProperties(t,s)},yg=t=>{wu(t,(e,r)=>{if(Ye(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(Ye(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_g=(t,e)=>{const r={},s=n=>{n.forEach(o=>{r[o]=!0})};return ts(t)?s(t):s(String(t).split(e)),r},bg=()=>{},wg=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Eg(t){return!!(t&&Ye(t.append)&&t[mu]==="FormData"&&t[Zn])}const Sg=t=>{const e=new Array(10),r=(s,n)=>{if(Bs(s)){if(e.indexOf(s)>=0)return;if(Fs(s))return s;if(!("toJSON"in s)){e[n]=s;const o=ts(s)?[]:{};return Ms(s,(i,a)=>{const l=r(i,n+1);!Jr(l)&&(o[a]=l)}),e[n]=void 0,o}}return s};return r(t,0)},xg=bt("AsyncFunction"),Cg=t=>t&&(Bs(t)||Ye(t))&&Ye(t.then)&&Ye(t.catch),Eu=((t,e)=>t?setImmediate:e?((r,s)=>(br.addEventListener("message",({source:n,data:o})=>{n===br&&o===r&&s.length&&s.shift()()},!1),n=>{s.push(n),br.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ye(br.postMessage)),Ag=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||Eu,Og=t=>t!=null&&Ye(t[Zn]),O={isArray:ts,isArrayBuffer:vu,isBuffer:Fs,isFormData:Xp,isArrayBufferView:Vp,isString:Kp,isNumber:yu,isBoolean:Wp,isObject:Bs,isPlainObject:fn,isEmptyObject:zp,isReadableStream:tg,isRequest:rg,isResponse:sg,isHeaders:ng,isUndefined:Jr,isDate:Gp,isFile:Jp,isBlob:Yp,isRegExp:vg,isFunction:Ye,isStream:Qp,isURLSearchParams:eg,isTypedArray:hg,isFileList:Zp,forEach:Ms,merge:Qo,extend:ig,trim:og,stripBOM:ag,inherits:lg,toFlatObject:cg,kindOf:Qn,kindOfTest:bt,endsWith:ug,toArray:dg,forEachEntry:fg,matchAll:pg,isHTMLForm:gg,hasOwnProperty:Ma,hasOwnProp:Ma,reduceDescriptors:wu,freezeMethods:yg,toObjectSet:_g,toCamelCase:mg,noop:bg,toFiniteNumber:wg,findKey:_u,global:br,isContextDefined:bu,isSpecCompliantForm:Eg,toJSONObject:Sg,isAsyncFn:xg,isThenable:Cg,setImmediate:Eu,asap:Ag,isIterable:Og};function ie(t,e,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}O.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Su=ie.prototype,xu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xu[t]={value:t}});Object.defineProperties(ie,xu);Object.defineProperty(Su,"isAxiosError",{value:!0});ie.from=(t,e,r,s,n,o)=>{const i=Object.create(Su);O.toFlatObject(t,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ie.call(i,a,l,r,s,n),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const kg=null;function Xo(t){return O.isPlainObject(t)||O.isArray(t)}function Cu(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function qa(t,e,r){return t?t.concat(e).map(function(n,o){return n=Cu(n),!r&&o?"["+n+"]":n}).join(r?".":""):e}function Tg(t){return O.isArray(t)&&!t.some(Xo)}const Rg=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function eo(t,e,r){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!O.isUndefined(y[m])});const s=r.metaTokens,n=r.visitor||u,o=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(O.isDate(p))return p.toISOString();if(O.isBoolean(p))return p.toString();if(!l&&O.isBlob(p))throw new ie("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(p)||O.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let S=p;if(p&&!y&&typeof p=="object"){if(O.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(O.isArray(p)&&Tg(p)||(O.isFileList(p)||O.endsWith(m,"[]"))&&(S=O.toArray(p)))return m=Cu(m),S.forEach(function(w,b){!(O.isUndefined(w)||w===null)&&e.append(i===!0?qa([m],b,o):i===null?m:m+"[]",c(w))}),!1}return Xo(p)?!0:(e.append(qa(y,m,o),c(p)),!1)}const d=[],h=Object.assign(Rg,{defaultVisitor:u,convertValue:c,isVisitable:Xo});function f(p,m){if(!O.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),O.forEach(p,function(S,k){(!(O.isUndefined(S)||S===null)&&n.call(e,S,O.isString(k)?k.trim():k,m,h))===!0&&f(S,m?m.concat(k):[k])}),d.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Ha(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Di(t,e){this._pairs=[],t&&eo(t,this,e)}const Au=Di.prototype;Au.append=function(e,r){this._pairs.push([e,r])};Au.toString=function(e){const r=e?function(s){return e.call(this,s,Ha)}:Ha;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Pg(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ou(t,e,r){if(!e)return t;const s=r&&r.encode||Pg;O.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(n?o=n(e,r):o=O.isURLSearchParams(e)?e.toString():new Di(e,r).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Va{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(s){s!==null&&e(s)})}}const ku={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$g=typeof URLSearchParams<"u"?URLSearchParams:Di,jg=typeof FormData<"u"?FormData:null,Ig=typeof Blob<"u"?Blob:null,Lg={isBrowser:!0,classes:{URLSearchParams:$g,FormData:jg,Blob:Ig},protocols:["http","https","file","blob","url","data"]},Fi=typeof window<"u"&&typeof document<"u",ei=typeof navigator=="object"&&navigator||void 0,Ng=Fi&&(!ei||["ReactNative","NativeScript","NS"].indexOf(ei.product)<0),Ug=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dg=Fi&&window.location.href||"http://localhost",Fg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fi,hasStandardBrowserEnv:Ng,hasStandardBrowserWebWorkerEnv:Ug,navigator:ei,origin:Dg},Symbol.toStringTag,{value:"Module"})),Ve={...Fg,...Lg};function Bg(t,e){return eo(t,new Ve.classes.URLSearchParams,{visitor:function(r,s,n,o){return Ve.isNode&&O.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Mg(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qg(t){const e={},r=Object.keys(t);let s;const n=r.length;let o;for(s=0;s<n;s++)o=r[s],e[o]=t[o];return e}function Tu(t){function e(r,s,n,o){let i=r[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=r.length;return i=!i&&O.isArray(n)?n.length:i,l?(O.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!a):((!n[i]||!O.isObject(n[i]))&&(n[i]=[]),e(r,s,n[i],o)&&O.isArray(n[i])&&(n[i]=qg(n[i])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const r={};return O.forEachEntry(t,(s,n)=>{e(Mg(s),n,r,0)}),r}return null}function Hg(t,e,r){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const qs={transitional:ku,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,o=O.isObject(e);if(o&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return n?JSON.stringify(Tu(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Bg(e,this.formSerializer).toString();if((a=O.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return eo(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),Hg(e)):e}],transformResponse:[function(e){const r=this.transitional||qs.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ie.from(a,ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{qs.headers[t]={}});const Vg=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kg=t=>{const e={};let r,s,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||e[r]&&Vg[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Ka=Symbol("internals");function cs(t){return t&&String(t).trim().toLowerCase()}function pn(t){return t===!1||t==null?t:O.isArray(t)?t.map(pn):String(t)}function Wg(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const zg=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bo(t,e,r,s,n){if(O.isFunction(s))return s.call(this,e,r);if(n&&(e=r),!!O.isString(e)){if(O.isString(s))return e.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(e)}}function Gg(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function Jg(t,e){const r=O.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(n,o,i){return this[s].call(this,e,n,o,i)},configurable:!0})})}let Ze=class{constructor(e){e&&this.set(e)}set(e,r,s){const n=this;function o(a,l,c){const u=cs(l);if(!u)throw new Error("header name must be a non-empty string");const d=O.findKey(n,u);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||l]=pn(a))}const i=(a,l)=>O.forEach(a,(c,u)=>o(c,u,l));if(O.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(O.isString(e)&&(e=e.trim())&&!zg(e))i(Kg(e),r);else if(O.isObject(e)&&O.isIterable(e)){let a={},l,c;for(const u of e){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?O.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,r)}else e!=null&&o(r,e,s);return this}get(e,r){if(e=cs(e),e){const s=O.findKey(this,e);if(s){const n=this[s];if(!r)return n;if(r===!0)return Wg(n);if(O.isFunction(r))return r.call(this,n,s);if(O.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cs(e),e){const s=O.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||bo(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let n=!1;function o(i){if(i=cs(i),i){const a=O.findKey(s,i);a&&(!r||bo(s,s[a],a,r))&&(delete s[a],n=!0)}}return O.isArray(e)?e.forEach(o):o(e),n}clear(e){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const o=r[s];(!e||bo(this,this[o],o,e,!0))&&(delete this[o],n=!0)}return n}normalize(e){const r=this,s={};return O.forEach(this,(n,o)=>{const i=O.findKey(s,o);if(i){r[i]=pn(n),delete r[o];return}const a=e?Gg(o):String(o).trim();a!==o&&delete r[o],r[a]=pn(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return O.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=e&&O.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Ka]=this[Ka]={accessors:{}}).accessors,n=this.prototype;function o(i){const a=cs(i);s[a]||(Jg(n,i),s[a]=!0)}return O.isArray(e)?e.forEach(o):o(e),this}};Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Ze.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});O.freezeMethods(Ze);function wo(t,e){const r=this||qs,s=e||r,n=Ze.from(s.headers);let o=s.data;return O.forEach(t,function(a){o=a.call(r,o,n.normalize(),e?e.status:void 0)}),n.normalize(),o}function Ru(t){return!!(t&&t.__CANCEL__)}function rs(t,e,r){ie.call(this,t??"canceled",ie.ERR_CANCELED,e,r),this.name="CanceledError"}O.inherits(rs,ie,{__CANCEL__:!0});function Pu(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new ie("Request failed with status code "+r.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yg(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Zg(t,e){t=t||10;const r=new Array(t),s=new Array(t);let n=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[o];i||(i=c),r[n]=l,s[n]=c;let d=o,h=0;for(;d!==n;)h+=r[d++],d=d%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),c-i<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function Qg(t,e){let r=0,s=1e3/e,n,o;const i=(c,u=Date.now())=>{r=u,n=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=s?i(c,u):(n=c,o||(o=setTimeout(()=>{o=null,i(n)},s-d)))},()=>n&&i(n)]}const Rn=(t,e,r=3)=>{let s=0;const n=Zg(50,250);return Qg(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-s,c=n(l),u=i<=a;s=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},Wa=(t,e)=>{const r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},za=t=>(...e)=>O.asap(()=>t(...e)),Xg=Ve.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ve.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,em=Ve.hasStandardBrowserEnv?{write(t,e,r,s,n,o){const i=[t+"="+encodeURIComponent(e)];O.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),O.isString(s)&&i.push("path="+s),O.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tm(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rm(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $u(t,e,r){let s=!tm(e);return t&&(s||r==!1)?rm(t,e):e}const Ga=t=>t instanceof Ze?{...t}:t;function Ar(t,e){e=e||{};const r={};function s(c,u,d,h){return O.isPlainObject(c)&&O.isPlainObject(u)?O.merge.call({caseless:h},c,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function n(c,u,d,h){if(O.isUndefined(u)){if(!O.isUndefined(c))return s(void 0,c,d,h)}else return s(c,u,d,h)}function o(c,u){if(!O.isUndefined(u))return s(void 0,u)}function i(c,u){if(O.isUndefined(u)){if(!O.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,d)=>n(Ga(c),Ga(u),d,!0)};return O.forEach(Object.keys({...t,...e}),function(u){const d=l[u]||n,h=d(t[u],e[u],u);O.isUndefined(h)&&d!==a||(r[u]=h)}),r}const ju=t=>{const e=Ar({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:a}=e;if(e.headers=i=Ze.from(i),e.url=Ou($u(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),O.isFormData(r)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(O.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&i.set(u,d)})}}if(Ve.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(e)),s||s!==!1&&Xg(e.url))){const l=n&&o&&em.read(o);l&&i.set(n,l)}return e},sm=typeof XMLHttpRequest<"u",nm=sm&&function(t){return new Promise(function(r,s){const n=ju(t);let o=n.data;const i=Ze.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=n,u,d,h,f,p;function m(){f&&f(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function S(){if(!y)return;const w=Ze.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};Pu(function(A){r(A),m()},function(A){s(A),m()},x),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(s(new ie("Request aborted",ie.ECONNABORTED,t,y)),y=null)},y.onerror=function(b){const x=b&&b.message?b.message:"Network Error",C=new ie(x,ie.ERR_NETWORK,t,y);C.event=b||null,s(C),y=null},y.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const x=n.transitional||ku;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),s(new ie(b,x.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,t,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&O.forEach(i.toJSON(),function(b,x){y.setRequestHeader(x,b)}),O.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),a&&a!=="json"&&(y.responseType=n.responseType),c&&([h,p]=Rn(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,f]=Rn(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(u=w=>{y&&(s(!w||w.type?new rs(null,t,y):w),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const k=Yg(n.url);if(k&&Ve.protocols.indexOf(k)===-1){s(new ie("Unsupported protocol "+k+":",ie.ERR_BAD_REQUEST,t));return}y.send(o||null)})},om=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,n;const o=function(c){if(!n){n=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof ie?u:new rs(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new ie(`timeout ${e} of ms exceeded`,ie.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>O.asap(a),l}},im=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let s=0,n;for(;s<r;)n=s+e,yield t.slice(s,n),s=n},am=async function*(t,e){for await(const r of lm(t))yield*im(r,e)},lm=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Ja=(t,e,r,s)=>{const n=am(t,e);let o=0,i,a=l=>{i||(i=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await n.next();if(c){a(),l.close();return}let d=u.byteLength;if(r){let h=o+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},Ya=64*1024,{isFunction:Ys}=O,cm=(({Request:t,Response:e})=>({Request:t,Response:e}))(O.global),{ReadableStream:Za,TextEncoder:Qa}=O.global,Xa=(t,...e)=>{try{return!!t(...e)}catch{return!1}},um=t=>{t=O.merge.call({skipUndefined:!0},cm,t);const{fetch:e,Request:r,Response:s}=t,n=e?Ys(e):typeof fetch=="function",o=Ys(r),i=Ys(s);if(!n)return!1;const a=n&&Ys(Za),l=n&&(typeof Qa=="function"?(p=>m=>p.encode(m))(new Qa):async p=>new Uint8Array(await new r(p).arrayBuffer())),c=o&&a&&Xa(()=>{let p=!1;const m=new r(Ve.origin,{body:new Za,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),u=i&&a&&Xa(()=>O.isReadableStream(new s("").body)),d={stream:u&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(m,y)=>{let S=m&&m[p];if(S)return S.call(m);throw new ie(`Response type '${p}' is not supported`,ie.ERR_NOT_SUPPORT,y)})});const h=async p=>{if(p==null)return 0;if(O.isBlob(p))return p.size;if(O.isSpecCompliantForm(p))return(await new r(Ve.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(O.isArrayBufferView(p)||O.isArrayBuffer(p))return p.byteLength;if(O.isURLSearchParams(p)&&(p=p+""),O.isString(p))return(await l(p)).byteLength},f=async(p,m)=>{const y=O.toFiniteNumber(p.getContentLength());return y??h(m)};return async p=>{let{url:m,method:y,data:S,signal:k,cancelToken:w,timeout:b,onDownloadProgress:x,onUploadProgress:C,responseType:A,headers:I,withCredentials:L="same-origin",fetchOptions:te}=ju(p),de=e||fetch;A=A?(A+"").toLowerCase():"text";let D=om([k,w&&w.toAbortSignal()],b),ae=null;const ve=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let Le;try{if(C&&c&&y!=="get"&&y!=="head"&&(Le=await f(I,S))!==0){let $e=new r(m,{method:"POST",body:S,duplex:"half"}),ke;if(O.isFormData(S)&&(ke=$e.headers.get("content-type"))&&I.setContentType(ke),$e.body){const[Et,dt]=Wa(Le,Rn(za(C)));S=Ja($e.body,Ya,Et,dt)}}O.isString(L)||(L=L?"include":"omit");const ue=o&&"credentials"in r.prototype,se={...te,signal:D,method:y.toUpperCase(),headers:I.normalize().toJSON(),body:S,duplex:"half",credentials:ue?L:void 0};ae=o&&new r(m,se);let le=await(o?de(ae,te):de(m,se));const nt=u&&(A==="stream"||A==="response");if(u&&(x||nt&&ve)){const $e={};["status","statusText","headers"].forEach(ir=>{$e[ir]=le[ir]});const ke=O.toFiniteNumber(le.headers.get("content-length")),[Et,dt]=x&&Wa(ke,Rn(za(x),!0))||[];le=new s(Ja(le.body,Ya,Et,()=>{dt&&dt(),ve&&ve()}),$e)}A=A||"text";let wt=await d[O.findKey(d,A)||"text"](le,p);return!nt&&ve&&ve(),await new Promise(($e,ke)=>{Pu($e,ke,{data:wt,headers:Ze.from(le.headers),status:le.status,statusText:le.statusText,config:p,request:ae})})}catch(ue){throw ve&&ve(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,p,ae),{cause:ue.cause||ue}):ie.from(ue,ue&&ue.code,p,ae)}}},dm=new Map,Iu=t=>{let e=t?t.env:{};const{fetch:r,Request:s,Response:n}=e,o=[s,n,r];let i=o.length,a=i,l,c,u=dm;for(;a--;)l=o[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:um(e)),u=c;return c};Iu();const ti={http:kg,xhr:nm,fetch:{get:Iu}};O.forEach(ti,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const el=t=>`- ${t}`,hm=t=>O.isFunction(t)||t===null||t===!1,Lu={getAdapter:(t,e)=>{t=O.isArray(t)?t:[t];const{length:r}=t;let s,n;const o={};for(let i=0;i<r;i++){s=t[i];let a;if(n=s,!hm(s)&&(n=ti[(a=String(s)).toLowerCase()],n===void 0))throw new ie(`Unknown adapter '${a}'`);if(n&&(O.isFunction(n)||(n=n.get(e))))break;o[a||"#"+i]=n}if(!n){const i=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?i.length>1?`since :
`+i.map(el).join(`
`):" "+el(i[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:ti};function Eo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rs(null,t)}function tl(t){return Eo(t),t.headers=Ze.from(t.headers),t.data=wo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Lu.getAdapter(t.adapter||qs.adapter,t)(t).then(function(s){return Eo(t),s.data=wo.call(t,t.transformResponse,s),s.headers=Ze.from(s.headers),s},function(s){return Ru(s)||(Eo(t),s&&s.response&&(s.response.data=wo.call(t,t.transformResponse,s.response),s.response.headers=Ze.from(s.response.headers))),Promise.reject(s)})}const Nu="1.12.2",to={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{to[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const rl={};to.transitional=function(e,r,s){function n(o,i){return"[Axios v"+Nu+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new ie(n(i," has been removed"+(r?" in "+r:"")),ie.ERR_DEPRECATED);return r&&!rl[i]&&(rl[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,a):!0}};to.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function fm(t,e,r){if(typeof t!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const o=s[n],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new ie("option "+o+" must be "+l,ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ie("Unknown option "+o,ie.ERR_BAD_OPTION)}}const gn={assertOptions:fm,validators:to},Ot=gn.validators;let xr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Va,response:new Va}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ar(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:o}=r;s!==void 0&&gn.assertOptions(s,{silentJSONParsing:Ot.transitional(Ot.boolean),forcedJSONParsing:Ot.transitional(Ot.boolean),clarifyTimeoutError:Ot.transitional(Ot.boolean)},!1),n!=null&&(O.isFunction(n)?r.paramsSerializer={serialize:n}:gn.assertOptions(n,{encode:Ot.function,serialize:Ot.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),gn.assertOptions(r,{baseUrl:Ot.spelling("baseURL"),withXsrfToken:Ot.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&O.merge(o.common,o[r.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=Ze.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const p=[tl.bind(this),void 0];for(p.unshift(...a),p.push(...c),h=p.length,u=Promise.resolve(r);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let f=r;for(;d<h;){const p=a[d++],m=a[d++];try{f=p(f)}catch(y){m.call(this,y);break}}try{u=tl.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ar(this.defaults,e);const r=$u(e.baseURL,e.url,e.allowAbsoluteUrls);return Ou(r,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){xr.prototype[e]=function(r,s){return this.request(Ar(s||{},{method:e,url:r,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(e){function r(s){return function(o,i,a){return this.request(Ar(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}xr.prototype[e]=r(),xr.prototype[e+"Form"]=r(!0)});let pm=class Uu{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(n);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new rs(o,i,a),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Uu(function(n){e=n}),cancel:e}}};function gm(t){return function(r){return t.apply(null,r)}}function mm(t){return O.isObject(t)&&t.isAxiosError===!0}const ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ri).forEach(([t,e])=>{ri[e]=t});function Du(t){const e=new xr(t),r=gu(xr.prototype.request,e);return O.extend(r,xr.prototype,e,{allOwnKeys:!0}),O.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return Du(Ar(t,n))},r}const oe=Du(qs);oe.Axios=xr;oe.CanceledError=rs;oe.CancelToken=pm;oe.isCancel=Ru;oe.VERSION=Nu;oe.toFormData=eo;oe.AxiosError=ie;oe.Cancel=oe.CanceledError;oe.all=function(e){return Promise.all(e)};oe.spread=gm;oe.isAxiosError=mm;oe.mergeConfig=Ar;oe.AxiosHeaders=Ze;oe.formToJSON=t=>Tu(O.isHTMLForm(t)?new FormData(t):t);oe.getAdapter=Lu.getAdapter;oe.HttpStatusCode=ri;oe.default=oe;const{Axios:LE,AxiosError:NE,CanceledError:UE,isCancel:DE,CancelToken:FE,VERSION:BE,all:ME,Cancel:qE,isAxiosError:HE,spread:VE,toFormData:KE,AxiosHeaders:WE,HttpStatusCode:zE,formToJSON:GE,getAdapter:JE,mergeConfig:YE}=oe;/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Br=typeof document<"u";function Fu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Fu(t.default)}const pe=Object.assign;function So(t,e){const r={};for(const s in e){const n=e[s];r[s]=_t(n)?n.map(t):t(n)}return r}const ws=()=>{},_t=Array.isArray,Bu=/#/g,ym=/&/g,_m=/\//g,bm=/=/g,wm=/\?/g,Mu=/\+/g,Em=/%5B/g,Sm=/%5D/g,qu=/%5E/g,xm=/%60/g,Hu=/%7B/g,Cm=/%7C/g,Vu=/%7D/g,Am=/%20/g;function Bi(t){return encodeURI(""+t).replace(Cm,"|").replace(Em,"[").replace(Sm,"]")}function Om(t){return Bi(t).replace(Hu,"{").replace(Vu,"}").replace(qu,"^")}function si(t){return Bi(t).replace(Mu,"%2B").replace(Am,"+").replace(Bu,"%23").replace(ym,"%26").replace(xm,"`").replace(Hu,"{").replace(Vu,"}").replace(qu,"^")}function km(t){return si(t).replace(bm,"%3D")}function Tm(t){return Bi(t).replace(Bu,"%23").replace(wm,"%3F")}function Rm(t){return t==null?"":Tm(t).replace(_m,"%2F")}function Ps(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Pm=/\/$/,$m=t=>t.replace(Pm,"");function xo(t,e,r="/"){let s,n={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),n=t(o)),a>-1&&(s=s||e.slice(0,a),i=e.slice(a,e.length)),s=Nm(s??e,r),{fullPath:s+(o&&"?")+o+i,path:s,query:n,hash:Ps(i)}}function jm(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function sl(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Im(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Yr(e.matched[s],r.matched[n])&&Ku(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Yr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ku(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Lm(t[r],e[r]))return!1;return!0}function Lm(t,e){return _t(t)?nl(t,e):_t(e)?nl(e,t):t===e}function nl(t,e){return _t(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function Nm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let o=r.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $s;(function(t){t.pop="pop",t.push="push"})($s||($s={}));var Es;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Es||(Es={}));function Um(t){if(!t)if(Br){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$m(t)}const Dm=/^[^#]+#/;function Fm(t,e){return t.replace(Dm,"#")+e}function Bm(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const ro=()=>({left:window.scrollX,top:window.scrollY});function Mm(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=Bm(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ol(t,e){return(history.state?history.state.position-e:-1)+t}const ni=new Map;function qm(t,e){ni.set(t,e)}function Hm(t){const e=ni.get(t);return ni.delete(t),e}let Vm=()=>location.protocol+"//"+location.host;function Wu(t,e){const{pathname:r,search:s,hash:n}=e,o=t.indexOf("#");if(o>-1){let a=n.includes(t.slice(o))?t.slice(o).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),sl(l,"")}return sl(r,t)+s+n}function Km(t,e,r,s){let n=[],o=[],i=null;const a=({state:h})=>{const f=Wu(t,location),p=r.value,m=e.value;let y=0;if(h){if(r.value=f,e.value=h,i&&i===p){i=null;return}y=m?h.position-m.position:0}else s(f);n.forEach(S=>{S(r.value,p,{delta:y,type:$s.pop,direction:y?y>0?Es.forward:Es.back:Es.unknown})})};function l(){i=r.value}function c(h){n.push(h);const f=()=>{const p=n.indexOf(h);p>-1&&n.splice(p,1)};return o.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(pe({},h.state,{scroll:ro()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function il(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?ro():null}}function Wm(t){const{history:e,location:r}=window,s={value:Wu(t,r)},n={value:e.state};n.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+l:Vm()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](h)}}function i(l,c){const u=pe({},e.state,il(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=pe({},n.value,e.state,{forward:l,scroll:ro()});o(u.current,u,!0);const d=pe({},il(s.value,l,null),{position:u.position+1},c);o(l,d,!1),s.value=l}return{location:s,state:n,push:a,replace:i}}function zm(t){t=Um(t);const e=Wm(t),r=Km(t,e.state,e.location,e.replace);function s(o,i=!0){i||r.pauseListeners(),history.go(o)}const n=pe({location:"",base:t,go:s,createHref:Fm.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Gm(t){return typeof t=="string"||t&&typeof t=="object"}function zu(t){return typeof t=="string"||typeof t=="symbol"}const Gu=Symbol("");var al;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(al||(al={}));function Zr(t,e){return pe(new Error,{type:t,[Gu]:!0},e)}function Nt(t,e){return t instanceof Error&&Gu in t&&(e==null||!!(t.type&e))}const ll="[^/]+?",Jm={sensitive:!1,strict:!1,start:!0,end:!0},Ym=/[.+*?^${}()[\]/\\]/g;function Zm(t,e){const r=pe({},Jm,e),s=[];let n=r.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(r.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(Ym,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:y,regexp:S}=h;o.push({name:p,repeatable:m,optional:y});const k=S||ll;if(k!==ll){f+=10;try{new RegExp(`(${k})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${k}): `+b.message)}}let w=m?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(w=y&&c.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),n+=w,f+=20,y&&(f+=-8),m&&(f+=-20),k===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const i=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(i),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:y}=f,S=p in c?c[p]:"";if(_t(S)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const k=_t(S)?S.join("/"):S;if(!k)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=k}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function Qm(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ju(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const o=Qm(s[r],n[r]);if(o)return o;r++}if(Math.abs(n.length-s.length)===1){if(cl(s))return 1;if(cl(n))return-1}return n.length-s.length}function cl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Xm={type:0,value:""},e0=/[a-zA-Z0-9_]/;function t0(t){if(!t)return[[]];if(t==="/")return[[Xm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=0,s=r;const n=[];let o;function i(){o&&n.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:l==="/"?(c&&d(),i()):l===":"?(d(),r=1):h();break;case 4:h(),r=s;break;case 1:l==="("?r=2:e0.test(l)?h():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=3:u+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),i(),n}function r0(t,e,r){const s=Zm(t0(t.path),r),n=pe(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function s0(t,e){const r=[],s=new Map;e=fl({strict:!1,end:!0,sensitive:!1},e);function n(d){return s.get(d)}function o(d,h,f){const p=!f,m=dl(d);m.aliasOf=f&&f.record;const y=fl(e,d),S=[m];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const x of b)S.push(dl(pe({},m,{components:f?f.record.components:m.components,path:x,aliasOf:f?f.record:m})))}let k,w;for(const b of S){const{path:x}=b;if(h&&x[0]!=="/"){const C=h.record.path,A=C[C.length-1]==="/"?"":"/";b.path=h.record.path+(x&&A+x)}if(k=r0(b,h,y),f?f.alias.push(k):(w=w||k,w!==k&&w.alias.push(k),p&&d.name&&!hl(k)&&i(d.name)),Yu(k)&&l(k),m.children){const C=m.children;for(let A=0;A<C.length;A++)o(C[A],k,f&&f.children[A])}f=f||k}return w?()=>{i(w)}:ws}function i(d){if(zu(d)){const h=s.get(d);h&&(s.delete(d),r.splice(r.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=r.indexOf(d);h>-1&&(r.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return r}function l(d){const h=i0(d,r);r.splice(h,0,d),d.record.name&&!hl(d)&&s.set(d.record.name,d)}function c(d,h){let f,p={},m,y;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw Zr(1,{location:d});y=f.record.name,p=pe(ul(h.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&ul(d.params,f.keys.map(w=>w.name))),m=f.stringify(p)}else if(d.path!=null)m=d.path,f=r.find(w=>w.re.test(m)),f&&(p=f.parse(m),y=f.record.name);else{if(f=h.name?s.get(h.name):r.find(w=>w.re.test(h.path)),!f)throw Zr(1,{location:d,currentLocation:h});y=f.record.name,p=pe({},h.params,d.params),m=f.stringify(p)}const S=[];let k=f;for(;k;)S.unshift(k.record),k=k.parent;return{name:y,path:m,params:p,matched:S,meta:o0(S)}}t.forEach(d=>o(d));function u(){r.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function ul(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function dl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:n0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function n0(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function hl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function o0(t){return t.reduce((e,r)=>pe(e,r.meta),{})}function fl(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}function i0(t,e){let r=0,s=e.length;for(;r!==s;){const o=r+s>>1;Ju(t,e[o])<0?s=o:r=o+1}const n=a0(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function a0(t){let e=t;for(;e=e.parent;)if(Yu(e)&&Ju(t,e)===0)return e}function Yu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function l0(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const o=s[n].replace(Mu," "),i=o.indexOf("="),a=Ps(i<0?o:o.slice(0,i)),l=i<0?null:Ps(o.slice(i+1));if(a in e){let c=e[a];_t(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function pl(t){let e="";for(let r in t){const s=t[r];if(r=km(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(_t(s)?s.map(o=>o&&si(o)):[s&&si(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function c0(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=_t(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const u0=Symbol(""),gl=Symbol(""),so=Symbol(""),Zu=Symbol(""),oi=Symbol("");function us(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Xt(t,e,r,s,n,o=i=>i()){const i=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Zr(4,{from:r,to:e})):h instanceof Error?l(h):Gm(h)?l(Zr(2,{from:e,to:h})):(i&&s.enterCallbacks[n]===i&&typeof h=="function"&&i.push(h),a())},u=o(()=>t.call(s&&s.instances[n],e,r,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function Co(t,e,r,s,n=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Fu(l)){const u=(l.__vccOpts||l)[e];u&&o.push(Xt(u,r,s,i,a,n))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=vm(u)?u.default:u;i.mods[a]=u,i.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Xt(f,r,s,i,a,n)()}))}}return o}function ml(t){const e=mt(so),r=mt(Zu),s=Ce(()=>{const l=J(t.to);return e.resolve(l)}),n=Ce(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=r.matched;if(!u||!d.length)return-1;const h=d.findIndex(Yr.bind(null,u));if(h>-1)return h;const f=vl(l[c-2]);return c>1&&vl(u)===f&&d[d.length-1].path!==f?d.findIndex(Yr.bind(null,l[c-2])):h}),o=Ce(()=>n.value>-1&&g0(r.params,s.value.params)),i=Ce(()=>n.value>-1&&n.value===r.matched.length-1&&Ku(r.params,s.value.params));function a(l={}){if(p0(l)){const c=e[J(t.replace)?"replace":"push"](J(t.to)).catch(ws);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ce(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}function d0(t){return t.length===1?t[0]:t}const h0=Pc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ml,setup(t,{slots:e}){const r=vt(ml(t)),{options:s}=mt(so),n=Ce(()=>({[yl(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[yl(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=e.default&&d0(e.default(r));return t.custom?o:ou("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},o)}}}),f0=h0;function p0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function g0(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!_t(n)||n.length!==s.length||s.some((o,i)=>o!==n[i]))return!1}return!0}function vl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yl=(t,e,r)=>t??e??r,m0=Pc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=mt(oi),n=Ce(()=>t.route||s.value),o=mt(gl,0),i=Ce(()=>{let c=J(o);const{matched:u}=n.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ce(()=>n.value.matched[i.value]);ln(gl,Ce(()=>i.value+1)),ln(u0,a),ln(oi,n);const l=X();return Fe(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Yr(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return _l(r.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=ou(h,pe({},p,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return _l(r.default,{Component:y,route:c})||y}}});function _l(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Qu=m0;function v0(t){const e=s0(t.routes,t),r=t.parseQuery||l0,s=t.stringifyQuery||pl,n=t.history,o=us(),i=us(),a=us(),l=jh(zt);let c=zt;Br&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=So.bind(null,P=>""+P),d=So.bind(null,Rm),h=So.bind(null,Ps);function f(P,H){let B,W;return zu(P)?(B=e.getRecordMatcher(P),W=H):W=P,e.addRoute(W,B)}function p(P){const H=e.getRecordMatcher(P);H&&e.removeRoute(H)}function m(){return e.getRoutes().map(P=>P.record)}function y(P){return!!e.getRecordMatcher(P)}function S(P,H){if(H=pe({},H||l.value),typeof P=="string"){const E=xo(r,P,H.path),R=e.resolve({path:E.path},H),$=n.createHref(E.fullPath);return pe(E,R,{params:h(R.params),hash:Ps(E.hash),redirectedFrom:void 0,href:$})}let B;if(P.path!=null)B=pe({},P,{path:xo(r,P.path,H.path).path});else{const E=pe({},P.params);for(const R in E)E[R]==null&&delete E[R];B=pe({},P,{params:d(E)}),H.params=d(H.params)}const W=e.resolve(B,H),ye=P.hash||"";W.params=u(h(W.params));const v=jm(s,pe({},P,{hash:Om(ye),path:W.path})),_=n.createHref(v);return pe({fullPath:v,hash:ye,query:s===pl?c0(P.query):P.query||{}},W,{redirectedFrom:void 0,href:_})}function k(P){return typeof P=="string"?xo(r,P,l.value.path):pe({},P)}function w(P,H){if(c!==P)return Zr(8,{from:H,to:P})}function b(P){return A(P)}function x(P){return b(pe(k(P),{replace:!0}))}function C(P){const H=P.matched[P.matched.length-1];if(H&&H.redirect){const{redirect:B}=H;let W=typeof B=="function"?B(P):B;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=k(W):{path:W},W.params={}),pe({query:P.query,hash:P.hash,params:W.path!=null?{}:P.params},W)}}function A(P,H){const B=c=S(P),W=l.value,ye=P.state,v=P.force,_=P.replace===!0,E=C(B);if(E)return A(pe(k(E),{state:typeof E=="object"?pe({},ye,E.state):ye,force:v,replace:_}),H||B);const R=B;R.redirectedFrom=H;let $;return!v&&Im(s,W,B)&&($=Zr(16,{to:R,from:W}),$e(W,W,!0,!1)),($?Promise.resolve($):te(R,W)).catch(T=>Nt(T)?Nt(T,2)?T:wt(T):le(T,R,W)).then(T=>{if(T){if(Nt(T,2))return A(pe({replace:_},k(T.to),{state:typeof T.to=="object"?pe({},ye,T.to.state):ye,force:v}),H||R)}else T=D(R,W,!0,_,ye);return de(R,W,T),T})}function I(P,H){const B=w(P,H);return B?Promise.reject(B):Promise.resolve()}function L(P){const H=dt.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(P):P()}function te(P,H){let B;const[W,ye,v]=y0(P,H);B=Co(W.reverse(),"beforeRouteLeave",P,H);for(const E of W)E.leaveGuards.forEach(R=>{B.push(Xt(R,P,H))});const _=I.bind(null,P,H);return B.push(_),ot(B).then(()=>{B=[];for(const E of o.list())B.push(Xt(E,P,H));return B.push(_),ot(B)}).then(()=>{B=Co(ye,"beforeRouteUpdate",P,H);for(const E of ye)E.updateGuards.forEach(R=>{B.push(Xt(R,P,H))});return B.push(_),ot(B)}).then(()=>{B=[];for(const E of v)if(E.beforeEnter)if(_t(E.beforeEnter))for(const R of E.beforeEnter)B.push(Xt(R,P,H));else B.push(Xt(E.beforeEnter,P,H));return B.push(_),ot(B)}).then(()=>(P.matched.forEach(E=>E.enterCallbacks={}),B=Co(v,"beforeRouteEnter",P,H,L),B.push(_),ot(B))).then(()=>{B=[];for(const E of i.list())B.push(Xt(E,P,H));return B.push(_),ot(B)}).catch(E=>Nt(E,8)?E:Promise.reject(E))}function de(P,H,B){a.list().forEach(W=>L(()=>W(P,H,B)))}function D(P,H,B,W,ye){const v=w(P,H);if(v)return v;const _=H===zt,E=Br?history.state:{};B&&(W||_?n.replace(P.fullPath,pe({scroll:_&&E&&E.scroll},ye)):n.push(P.fullPath,ye)),l.value=P,$e(P,H,B,_),wt()}let ae;function ve(){ae||(ae=n.listen((P,H,B)=>{if(!ir.listening)return;const W=S(P),ye=C(W);if(ye){A(pe(ye,{replace:!0,force:!0}),W).catch(ws);return}c=W;const v=l.value;Br&&qm(ol(v.fullPath,B.delta),ro()),te(W,v).catch(_=>Nt(_,12)?_:Nt(_,2)?(A(pe(k(_.to),{force:!0}),W).then(E=>{Nt(E,20)&&!B.delta&&B.type===$s.pop&&n.go(-1,!1)}).catch(ws),Promise.reject()):(B.delta&&n.go(-B.delta,!1),le(_,W,v))).then(_=>{_=_||D(W,v,!1),_&&(B.delta&&!Nt(_,8)?n.go(-B.delta,!1):B.type===$s.pop&&Nt(_,20)&&n.go(-1,!1)),de(W,v,_)}).catch(ws)}))}let Le=us(),ue=us(),se;function le(P,H,B){wt(P);const W=ue.list();return W.length?W.forEach(ye=>ye(P,H,B)):console.error(P),Promise.reject(P)}function nt(){return se&&l.value!==zt?Promise.resolve():new Promise((P,H)=>{Le.add([P,H])})}function wt(P){return se||(se=!P,ve(),Le.list().forEach(([H,B])=>P?B(P):H()),Le.reset()),P}function $e(P,H,B,W){const{scrollBehavior:ye}=t;if(!Br||!ye)return Promise.resolve();const v=!B&&Hm(ol(P.fullPath,0))||(W||!B)&&history.state&&history.state.scroll||null;return Vn().then(()=>ye(P,H,v)).then(_=>_&&Mm(_)).catch(_=>le(_,P,H))}const ke=P=>n.go(P);let Et;const dt=new Set,ir={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:S,options:t,push:b,replace:x,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:ue.add,isReady:nt,install(P){const H=this;P.component("RouterLink",f0),P.component("RouterView",Qu),P.config.globalProperties.$router=H,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>J(l)}),Br&&!Et&&l.value===zt&&(Et=!0,b(n.location).catch(ye=>{}));const B={};for(const ye in zt)Object.defineProperty(B,ye,{get:()=>l.value[ye],enumerable:!0});P.provide(so,H),P.provide(Zu,wc(B)),P.provide(oi,l);const W=P.unmount;dt.add(P),P.unmount=function(){dt.delete(P),dt.size<1&&(c=zt,ae&&ae(),ae=null,l.value=zt,Et=!1,se=!1),W()}}};function ot(P){return P.reduce((H,B)=>H.then(()=>L(B)),Promise.resolve())}return ir}function y0(t,e){const r=[],s=[],n=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>Yr(c,a))?s.push(a):r.push(a));const l=t.matched[i];l&&(e.matched.find(c=>Yr(c,l))||n.push(l))}return[r,s,n]}function _0(){return mt(so)}const ss=es("auth",{state:()=>({token:localStorage.getItem("token")||null,loading:!1}),getters:{isLoggedIn:t=>!!t.token},actions:{async login(t,e){this.loading=!0;try{const r=await oe.post("/api/auth/login",{username:t,password:e});return r.status>=200&&r.status<300&&(this.token=r.data.access_token,localStorage.setItem("token",this.token)),r}catch(r){throw console.error("Login error:",r.response||r),new Error(r.response?.data?.error||"Login failed")}finally{this.loading=!1}},async register(t,e){this.loading=!0;try{const r=await oe.post("/api/auth/register",{username:t,password:e});return r.status>=200&&r.status<300&&await this.login(t,e),r}catch(r){throw console.error("Register error:",r.response||r),new Error(r.response?.data?.error||"Registration failed")}finally{this.loading=!1}},logout(){this.token=null,this.user=null,localStorage.removeItem("token")}}}),b0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='20px'%20viewBox='0%20-960%20960%20960'%20width='20px'%20fill='%2300000'%3e%3cpath%20d='M480-480q-66%200-113-47t-47-113q0-66%2047-113t113-47q66%200%20113%2047t47%20113q0%2066-47%20113t-113%2047ZM160-160v-112q0-34%2017.5-62.5T224-378q62-31%20126-46.5T480-440q66%200%20130%2015.5T736-378q29%2015%2046.5%2043.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56%200-111%2013.5T260-306q-9%205-14.5%2014t-5.5%2020v32Zm240-320q33%200%2056.5-23.5T560-640q0-33-23.5-56.5T480-720q-33%200-56.5%2023.5T400-640q0%2033%2023.5%2056.5T480-560Zm0-80Zm0%20400Z'/%3e%3c/svg%3e",w0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAcFJREFUSImllU9LVFEYxp8zzExCLQRxUYspEnXTyjZCBblo5UocBRdB+DGEXBil9gVEN4GfoG35b5Hgwl0rdykIWkIuCoLM+bmYE12uz72esbM87/M8v/u+73BGwCaXzy+gW4kHqAAHJmezImnFeLokTaQCJI1Iapj7ZQF14Kuhb3fQwarxnwA3/greGgHAYEL4TeCH8S5mRX1Ay4jmEgAvjK8FDOSFG0a4D1SuAGwZ37oTThaM6WlJ+F3g3HgmnbgOHBvxuxLAS6P/t1xjWDCGn8CtAv2e0S8UfZCA+wUtPzfaR0bXAvoLAdG4ZoyXlgasGN1aaXg0No3xHGhkNF3AqdE1UwA14MiYZzKah6Z+DNSvBMSANyZgL1OvAl9y9fmk8BhQtOxh4DYwDbzKjbAvGRAhHwxgCXgGfAIGMvcfOwqPgHED+E77cTui/X7txPvxopxQAqhKOpB0J1dqSnoi6VTSN0mzkhohhLPrdPHadPEeGIpL7gFmOw7OAO6ZZf8GeoHPwGOgVpZR+hSHEPYl5RdYkzQlaVXS2LVGkz3AmBnTLu2f6+h/hUdAFTg0kAcp/tIRSVII4Y8k958wkgK4ACkKuAMKVw66AAAAAElFTkSuQmCC",Hs=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},E0={key:0,class:"modal-overlay"},S0={class:"modal-content"},x0={class:"text-xl font-bold text-red-600 mb-4"},C0={class:"text-gray-600 mb-6"},A0={class:"flex justify-end gap-3"},O0=["disabled"],k0=["disabled"],T0={__name:"ConfirmModal",props:{isOpen:Boolean,title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmLabel:{type:String,default:"Yes, Delete"},isLoading:Boolean},emits:["close","confirm"],setup(t,{emit:e}){return(r,s)=>t.isOpen?(q(),V("div",E0,[g("div",S0,[g("h2",x0,G(t.title),1),g("p",C0,G(t.message),1),g("div",A0,[g("button",{onClick:s[0]||(s[0]=n=>r.$emit("close")),class:"btn bg-gray-500 text-white hover:bg-gray-600 border-none",disabled:t.isLoading}," Cancel ",8,O0),g("button",{onClick:s[1]||(s[1]=n=>r.$emit("confirm")),class:"btn bg-red-600 text-white hover:bg-red-700 border-none",disabled:t.isLoading},G(t.isLoading?"Processing...":t.confirmLabel),9,k0)])])])):be("",!0)}},no=Hs(T0,[["__scopeId","data-v-d3009914"]]),R0={class:"navbar bg-[#0F766E] text-white shadow-lg z-50 relative"},P0={class:"navbar-start"},$0={class:"dropdown"},j0={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-white text-[#0F766E] rounded-box w-52"},I0=["src"],L0={class:"navbar-center hidden lg:flex"},N0={class:"menu menu-horizontal px-1 gap-2"},U0={class:"navbar-end"},D0={class:"dropdown dropdown-end"},F0={tabindex:"0",class:"btn btn-ghost btn-circle avatar hover:bg-white/10 transition-colors"},B0={class:"w-10 rounded-full bg-white flex items-center justify-center font-bold shadow-sm"},M0=["src"],q0={__name:"Navbar",setup(t){const e=ss(),r=_0(),s=X(!1),n=X(!1),o=()=>{const a=document.activeElement;a&&a.blur(),s.value=!0},i=async()=>{n.value=!0;try{e.logout(),r.push("/login")}catch(a){console.error("Logout error:",a)}finally{n.value=!1,s.value=!1}};return(a,l)=>{const c=Uc("RouterLink");return q(),V(Ae,null,[g("div",R0,[g("div",P0,[g("div",$0,[l[4]||(l[4]=g("div",{tabindex:"0",role:"button",class:"btn btn-ghost lg:hidden text-white"},[g("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h8m-8 6h16"})])],-1)),g("ul",j0,[g("li",null,[ce(c,{to:"/students","active-class":"bg-[#CCFBF1] font-bold"},{default:at(()=>[...l[1]||(l[1]=[Rt("Students",-1)])]),_:1})]),g("li",null,[ce(c,{to:"/programs","active-class":"bg-[#CCFBF1] font-bold"},{default:at(()=>[...l[2]||(l[2]=[Rt("Programs",-1)])]),_:1})]),g("li",null,[ce(c,{to:"/colleges","active-class":"bg-[#CCFBF1] font-bold"},{default:at(()=>[...l[3]||(l[3]=[Rt("Colleges",-1)])]),_:1})])])]),ce(c,{to:"/",class:"btn btn-ghost flex items-center gap-3 px-2 hover:bg-white/10"},{default:at(()=>[g("img",{src:J(w0),alt:"Logo",class:"w-8 h-8 object-contain brightness-0 invert"},null,8,I0),l[5]||(l[5]=g("div",{class:"flex flex-col items-start leading-tight"},[g("span",{class:"text-[10px] font-bold uppercase tracking-widest text-teal-200 opacity-80"}," Veridia "),g("span",{class:"text-xl font-bold tracking-tight text-white"}," Dashboard ")],-1))]),_:1})]),g("div",L0,[g("ul",N0,[g("li",null,[ce(c,{to:"/students",class:"font-pages text-lg px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-white/10","active-class":"bg-[#CCFBF1] text-[#0F766E] font-bold shadow-sm"},{default:at(()=>[...l[6]||(l[6]=[Rt(" Students ",-1)])]),_:1})]),g("li",null,[ce(c,{to:"/programs",class:"font-pages text-lg px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-white/10","active-class":"bg-[#CCFBF1] text-[#0F766E] font-bold shadow-sm"},{default:at(()=>[...l[7]||(l[7]=[Rt(" Programs ",-1)])]),_:1})]),g("li",null,[ce(c,{to:"/colleges",class:"font-pages text-lg px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-white/10","active-class":"bg-[#CCFBF1] text-[#0F766E] font-bold shadow-sm"},{default:at(()=>[...l[8]||(l[8]=[Rt(" Colleges ",-1)])]),_:1})])])]),g("div",U0,[g("div",D0,[g("label",F0,[g("div",B0,[g("img",{src:J(b0),alt:"User",class:"w-5 h-5"},null,8,M0)])]),g("ul",{tabindex:"0",class:"menu dropdown-content bg-white text-gray-700 shadow-xl rounded-box w-52 mt-2 p-2 border border-gray-100"},[g("li",null,[g("button",{onClick:o,class:"justify-between hover:bg-red-50 hover:text-red-600"}," Logout ")])])])])]),ce(no,{isOpen:s.value,title:"Confirm Logout",message:"Are you sure you want to log out of Veridia? You will need to log back in to access the dashboard.","confirm-label":"Yes, Logout",isLoading:n.value,onClose:l[0]||(l[0]=u=>s.value=!1),onConfirm:i},null,8,["isOpen","isLoading"])],64)}}},kr=es("modal",()=>{const t=X(null),e=X(!1),r=X(null),s=X(null),n=X(null);function o(d){t.value=d}function i(){t.value=null,e.value=!1,r.value=null,s.value=null,n.value=null}function a(d){e.value=d}function l(d){r.value=d}function c(d){s.value=d}function u(d){n.value=d}return{activeModal:t,isEditMode:e,currentStudent:r,currentProgram:s,currentCollege:n,open:o,close:i,setEditMode:a,setCurrentStudent:l,setCurrentProgram:c,setCurrentCollege:u}}),Xu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-user-plus'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M8%207a4%204%200%201%200%208%200a4%204%200%200%200%20-8%200'%20/%3e%3cpath%20d='M16%2019h6'%20/%3e%3cpath%20d='M19%2016v6'%20/%3e%3cpath%20d='M6%2021v-2a4%204%200%200%201%204%20-4h4'%20/%3e%3c/svg%3e",ed="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-script'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%2020h-11a3%203%200%200%201%200%20-6h11a3%203%200%200%200%200%206h1a3%203%200%200%200%203%20-3v-11a2%202%200%200%200%20-2%20-2h-10a2%202%200%200%200%20-2%202v8'%20/%3e%3c/svg%3e",td="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-buildings'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M4%2021v-15c0%20-1%201%20-2%202%20-2h5c1%200%202%201%202%202v15'%20/%3e%3cpath%20d='M16%208h2c1%200%202%201%202%202v11'%20/%3e%3cpath%20d='M3%2021h18'%20/%3e%3cpath%20d='M10%2012v0'%20/%3e%3cpath%20d='M10%2016v0'%20/%3e%3cpath%20d='M10%208v0'%20/%3e%3cpath%20d='M7%2012v0'%20/%3e%3cpath%20d='M7%2016v0'%20/%3e%3cpath%20d='M7%208v0'%20/%3e%3cpath%20d='M17%2012v0'%20/%3e%3cpath%20d='M17%2016v0'%20/%3e%3c/svg%3e",H0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%2300000'%3e%3cpath%20d='M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z'/%3e%3c/svg%3e",V0={class:"fixed bottom-8 right-8 z-50 flex flex-col items-end gap-4"},K0={key:"college",class:"flex items-center gap-3 group"},W0=["src"],z0={key:"program",class:"flex items-center gap-3 group"},G0=["src"],J0={key:"student",class:"flex items-center gap-3 group"},Y0=["src"],Z0=["src"],Q0={__name:"AddFAB",setup(t){const e=kr(),r=X(!1),s=()=>{r.value=!r.value},n=o=>{o(),r.value=!1};return(o,i)=>(q(),V("div",V0,[ce(xp,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 translate-y-4 scale-75","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 translate-y-4 scale-75"},{default:at(()=>[r.value?(q(),V(Ae,{key:0},[g("div",K0,[i[3]||(i[3]=g("span",{class:"bg-gray-800 text-white text-xs py-1.5 px-2.5 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none"}," Add College ",-1)),g("button",{class:"btn btn-circle shadow-lg border-none bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E]",onClick:i[0]||(i[0]=a=>n(()=>J(e).open("collegeForm")))},[g("img",{src:J(td),alt:"College",class:"w-6 h-6"},null,8,W0)])]),g("div",z0,[i[4]||(i[4]=g("span",{class:"bg-gray-800 text-white text-xs py-1.5 px-2.5 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none"}," Add Program ",-1)),g("button",{class:"btn btn-circle shadow-lg border-none bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E]",onClick:i[1]||(i[1]=a=>n(()=>J(e).open("programForm")))},[g("img",{src:J(ed),alt:"Program",class:"w-6 h-6"},null,8,G0)])]),g("div",J0,[i[5]||(i[5]=g("span",{class:"bg-gray-800 text-white text-xs py-1.5 px-2.5 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none"}," Add Student ",-1)),g("button",{class:"btn btn-circle shadow-lg border-none bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E]",onClick:i[2]||(i[2]=a=>n(()=>J(e).open("studentForm")))},[g("img",{src:J(Xu),alt:"Student",class:"w-6 h-6"},null,8,Y0)])])],64)):be("",!0)]),_:1}),g("button",{class:Ue(["btn btn-lg btn-circle shadow-xl border-none bg-[#0F766E] hover:bg-[#0d6e66] text-white transition-transform duration-300",{"rotate-45":r.value}]),onClick:s},[g("img",{src:J(H0),alt:"Add",class:"w-8 h-8 transition-transform duration-300"},null,8,Z0)],2)]))}},Tr=es("toast",()=>{const t=X([]);function e(r,s="success",n=3e3){const o=Date.now()+Math.random();t.value.push({id:o,message:r,type:s}),setTimeout(()=>{const i=t.value.findIndex(a=>a.id===o);i!==-1&&t.value.splice(i,1)},n)}return{toasts:t,showToast:e}}),X0={class:"toast toast-top toast-center mt-20 z-[2000]"},ev={__name:"ToastContainer",setup(t){const e=Tr();return(r,s)=>(q(),V("div",X0,[(q(!0),V(Ae,null,Ht(J(e).toasts,n=>(q(),V("div",{key:n.id,class:Ue(["alert","shadow-lg",n.type==="success"?"alert-success":"alert-error"])},[g("span",null,G(n.message),1)],2))),128))]))}},Rr=es("programs",{state:()=>({programs:[],loading:!1}),getters:{auth:()=>ss()},actions:{getAuthHeader(){return this.auth.token?{Authorization:`Bearer ${this.auth.token}`}:{}},async fetchPrograms(){if(!(this.programs.length>0)){this.loading=!0;try{const t=await oe.get("/api/programs/",{headers:this.getAuthHeader()});this.programs=t.data}catch(t){console.error("Fetch programs error:",t)}finally{this.loading=!1}}},async refreshPrograms(){this.loading=!0;try{const t=await oe.get("/api/programs/",{headers:this.getAuthHeader()});this.programs=t.data}catch(t){console.error("Refresh programs error:",t)}finally{this.loading=!1}},async createProgram(t){this.loading=!0;try{const e=await oe.post("/api/programs/",t,{headers:this.getAuthHeader()});return this.programs.push(e.data.program),{success:!0,message:e.data.message}}catch(e){throw console.error("Create program error:",e),new Error(e.response?.data?.error||"Failed to create program")}finally{this.loading=!1}},async updateProgram(t,e){this.loading=!0;try{const r=await oe.put(`/api/programs/${t}`,e,{headers:this.getAuthHeader()}),s=this.programs.findIndex(n=>n.program_code===t);return s!==-1&&(this.programs[s]=r.data.program),{success:!0,message:r.data.message}}catch(r){throw console.error("Update program error:",r),new Error(r.response?.data?.error||"Failed to update program")}finally{this.loading=!1}},async deleteProgram(t){this.loading=!0;try{const e=await oe.delete(`/api/programs/${t}`,{headers:this.getAuthHeader()});return this.programs=this.programs.filter(r=>r.program_code!==t),{success:!0,message:e.data.message}}catch(e){throw console.error("Delete program error:",e),new Error(e.response?.data?.error||"Failed to delete program")}finally{this.loading=!1}}}});var ii=function(t,e){return ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},ii(t,e)};function rd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ii(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pn=function(){return Pn=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pn.apply(this,arguments)};function ns(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function sd(t,e,r,s){var n=arguments.length,o=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(n<3?i(o):n>3?i(e,r,o):i(e,r))||o);return n>3&&o&&Object.defineProperty(e,r,o),o}function nd(t,e){return function(r,s){e(r,s,t)}}function od(t,e,r,s,n,o){function i(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),d,h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in s)p[m]=m==="access"?{}:s[m];for(var m in s.access)p.access[m]=s.access[m];p.addInitializer=function(S){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(S||null))};var y=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=i(y.get))&&(u.get=d),(d=i(y.set))&&(u.set=d),(d=i(y.init))&&n.unshift(d)}else(d=i(y))&&(a==="field"?n.unshift(d):u[l]=d)}c&&Object.defineProperty(c,s.name,u),h=!0}function id(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function ad(t){return typeof t=="symbol"?t:"".concat(t)}function ld(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function cd(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function K(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(d){i(d)}}function l(u){try{c(s.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function ud(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,n,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(s=1,n&&(o=c[0]&2?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],n=0}finally{s=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var oo=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function dd(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oo(e,t,r)}function $n(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mi(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,o=[],i;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function hd(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Mi(arguments[e]));return t}function fd(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,n++)s[n]=o[i];return s}function pd(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,o;s<n;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}function Qr(t){return this instanceof Qr?(this.v=t,this):new Qr(t)}function gd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,o=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),n[Symbol.asyncIterator]=function(){return this},n;function i(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){s[f]&&(n[f]=function(m){return new Promise(function(y,S){o.push([f,m,y,S])>1||l(f,m)})},p&&(n[f]=p(n[f])))}function l(f,p){try{c(s[f](p))}catch(m){h(o[0][3],m)}}function c(f){f.value instanceof Qr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function md(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,o){e[n]=t[n]?function(i){return(r=!r)?{value:Qr(t[n](i)),done:!1}:o?o(i):i}:o}}function vd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $n=="function"?$n(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(o){r[o]=t[o]&&function(i){return new Promise(function(a,l){i=t[o](i),n(a,l,i.done,i.value)})}}function n(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function yd(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var tv=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ai=function(t){return ai=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},ai(t)};function _d(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ai(t),s=0;s<r.length;s++)r[s]!=="default"&&oo(e,t,r[s]);return tv(e,t),e}function bd(t){return t&&t.__esModule?t:{default:t}}function wd(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Ed(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function Sd(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xd(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var rv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Cd(t){function e(o){t.error=t.hasError?new rv(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(o).then(n,function(i){return e(i),n()})}else s|=1}catch(i){e(i)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function Ad(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,o,i){return s?e?".jsx":".js":n&&(!o||!i)?r:n+o+"."+i.toLowerCase()+"js"}):t}const sv={__extends:rd,__assign:Pn,__rest:ns,__decorate:sd,__param:nd,__esDecorate:od,__runInitializers:id,__propKey:ad,__setFunctionName:ld,__metadata:cd,__awaiter:K,__generator:ud,__createBinding:oo,__exportStar:dd,__values:$n,__read:Mi,__spread:hd,__spreadArrays:fd,__spreadArray:pd,__await:Qr,__asyncGenerator:gd,__asyncDelegator:md,__asyncValues:vd,__makeTemplateObject:yd,__importStar:_d,__importDefault:bd,__classPrivateFieldGet:wd,__classPrivateFieldSet:Ed,__classPrivateFieldIn:Sd,__addDisposableResource:xd,__disposeResources:Cd,__rewriteRelativeImportExtension:Ad},nv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xd,get __assign(){return Pn},__asyncDelegator:md,__asyncGenerator:gd,__asyncValues:vd,__await:Qr,__awaiter:K,__classPrivateFieldGet:wd,__classPrivateFieldIn:Sd,__classPrivateFieldSet:Ed,__createBinding:oo,__decorate:sd,__disposeResources:Cd,__esDecorate:od,__exportStar:dd,__extends:rd,__generator:ud,__importDefault:bd,__importStar:_d,__makeTemplateObject:yd,__metadata:cd,__param:nd,__propKey:ad,__read:Mi,__rest:ns,__rewriteRelativeImportExtension:Ad,__runInitializers:id,__setFunctionName:ld,__spread:hd,__spreadArray:pd,__spreadArrays:fd,__values:$n,default:sv},Symbol.toStringTag,{value:"Module"})),ov=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class qi extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class iv extends qi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bl extends qi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wl extends qi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var li;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(li||(li={}));class av{constructor(e,{headers:r={},customFetch:s,region:n=li.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=ov(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K(this,arguments,void 0,function*(r,s={}){var n;let o,i;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=s;let h={},{region:f}=s;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let y=u;d&&(i=new AbortController,o=setTimeout(()=>i.abort(),d),u?(y=i.signal,u.addEventListener("abort",()=>i.abort())):y=i.signal);const S=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:y}).catch(x=>{throw new iv(x)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new bl(S);if(!S.ok)throw new wl(S);let w=((n=S.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield S.json():w==="application/octet-stream"||w==="application/pdf"?b=yield S.blob():w==="text/event-stream"?b=S:w==="multipart/form-data"?b=yield S.formData():b=yield S.text(),{data:b,error:null,response:S}}catch(a){return{data:null,error:a,response:a instanceof wl||a instanceof bl?a.context:void 0}}finally{o&&clearTimeout(o)}})}}function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cv(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var n=!1;try{n=this instanceof s}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Be={};const os=cv(nv);var Zs={},Qs={},Xs={},en={},tn={},rn={},El;function Od(){if(El)return rn;El=1,Object.defineProperty(rn,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rn.default=t,rn}var Sl;function kd(){if(Sl)return tn;Sl=1,Object.defineProperty(tn,"__esModule",{value:!0});const e=os.__importDefault(Od());class r{constructor(n){var o,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(o=n.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,o){return this.headers=new Headers(this.headers),this.headers.set(n,o),this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,h;let f=null,p=null,m=null,y=l.status,S=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?p=x:p=JSON.parse(x))}const w=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),b=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,S="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await l.text();try{f=JSON.parse(w),Array.isArray(f)&&l.status===404&&(p=[],f=null,y=200,S="OK")}catch{l.status===404&&w===""?(y=204,S="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((h=f?.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,y=200,S="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:p,count:m,status:y,statusText:S}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,d;return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:`${(u=l?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=l?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(n,o)}returns(){return this}overrideTypes(){return this}}return tn.default=r,tn}var xl;function Td(){if(xl)return en;xl=1,Object.defineProperty(en,"__esModule",{value:!0});const e=os.__importDefault(kd());class r extends e.default{select(n){let o=!1;const i=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[n?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return en.default=r,en}var Cl;function Hi(){if(Cl)return Xs;Cl=1,Object.defineProperty(Xs,"__esModule",{value:!0});const e=os.__importDefault(Td()),r=new RegExp("[,()]");class s extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return Xs.default=s,Xs}var Al;function Rd(){if(Al)return Qs;Al=1,Object.defineProperty(Qs,"__esModule",{value:!0});const e=os.__importDefault(Hi());class r{constructor(n,{headers:o={},schema:i,fetch:a}){this.url=n,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(n,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var o;const i="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Qs.default=r,Qs}var Ol;function uv(){if(Ol)return Zs;Ol=1,Object.defineProperty(Zs,"__esModule",{value:!0});const t=os,e=t.__importDefault(Rd()),r=t.__importDefault(Hi());class s{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${o}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(i).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{h.searchParams.append(m,y)})):(d="POST",f=i);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Zs.default=s,Zs}var kl;function dv(){if(kl)return Be;kl=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const t=os,e=t.__importDefault(uv());Be.PostgrestClient=e.default;const r=t.__importDefault(Rd());Be.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Hi());Be.PostgrestFilterBuilder=s.default;const n=t.__importDefault(Td());Be.PostgrestTransformBuilder=n.default;const o=t.__importDefault(kd());Be.PostgrestBuilder=o.default;const i=t.__importDefault(Od());return Be.PostgrestError=i.default,Be.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:o.default,PostgrestError:i.default},Be}var Pd=dv();const $d=lv(Pd),hv=Xd({__proto__:null,default:$d},[Pd]),{PostgrestClient:fv,PostgrestQueryBuilder:ZE,PostgrestFilterBuilder:QE,PostgrestTransformBuilder:XE,PostgrestBuilder:eS,PostgrestError:tS}=$d||hv;class pv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gv="2.81.1",mv=`realtime-js/${gv}`,jd="1.0.0",vv="2.0.0",Tl=jd,ci=1e4,yv=1e3,_v=100;var vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vr||(vr={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lt||(lt={}));var ui;(function(t){t.websocket="websocket"})(ui||(ui={}));var yr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yr||(yr={}));class bv{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:r,ref:s,event:n,topic:o,payload:i}=e,a=this.META_LENGTH+r.length+s.length+o.length+n.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,s.length),c.setUint8(u++,o.length),c.setUint8(u++,n.length),Array.from(r,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(s,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(o,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(n,h=>c.setUint8(u++,h.charCodeAt(0)));var d=new Uint8Array(l.byteLength+i.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(i),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const{join_ref:n,ref:o,topic:i}=e,a=e.payload.event,l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+o.length+i.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(u),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,n.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(n,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(o,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(i,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(h++,p.charCodeAt(0)));var f=new Uint8Array(u.byteLength+l.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(l),u.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var r,s;const{join_ref:n,ref:o,topic:i}=e,a=e.payload.event,l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+o.length+i.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,n.length),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(n,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0)));var m=new Uint8Array(h.byteLength+u.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(u),h.byteLength),m.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,o,i,a,l]=s;return r({join_ref:n,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,r,n);case this.KINDS.reply:return this._decodeReply(e,r,n);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,n);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,n)}}_decodePush(e,r,s){const n=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=s.decode(e.slice(a,a+n));a=a+n;const c=s.decode(e.slice(a,a+o));a=a+o;const u=s.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:d}}_decodeReply(e,r,s){const n=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=s.decode(e.slice(l,l+n));l=l+n;const u=s.decode(e.slice(l,l+o));l=l+o;const d=s.decode(e.slice(l,l+i));l=l+i;const h=s.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(s.decode(e.slice(l,e.byteLength))),p={status:h,response:f};return{join_ref:c,ref:u,topic:d,event:lt.reply,payload:p}}_decodeBroadcast(e,r,s){const n=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+n));i=i+n;const l=s.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+n));l=l+n;const u=s.decode(e.slice(l,l+o));l=l+o;const d=s.decode(e.slice(l,l+i));l=l+i;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(h)):h,p={type:this.BROADCAST,event:u,payload:f};return i>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Id{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Rl=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=wv(i,t,e,n),o),{}):{}},wv=(t,e,r,s)=>{const n=e.find(a=>a.name===t),o=n?.type,i=r[t];return o&&!s.includes(o)?Ld(o,i):di(i)},Ld=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Cv(e,r)}switch(t){case Se.bool:return Ev(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Sv(e);case Se.json:case Se.jsonb:return xv(e);case Se.timestamp:return Av(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return di(e);default:return di(e)}},di=t=>t,Ev=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Ld(e,a))}return t},Av=t=>typeof t=="string"?t.replace(" ","T"):t,Nd=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ao{constructor(e,r,s={},n=ci){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pl||(Pl={}));class Ss{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,n,o,i),this.pendingDiffs.forEach(l=>{this.state=Ss.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ss.syncDiff(this.state,n,o,i),a())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=o[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $l;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($l||($l={}));var xs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xs||(xs={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Vi{constructor(e,r={config:{}},s){var n,o;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,lt.join,this.params,this.timeout),this.rejoinTimer=new Id(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ss(this),this.broadcastEndpointURL=Nd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Dt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e?.(Dt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m?.length)!==null&&p!==void 0?p:0,S=[];for(let k=0;k<y;k++){const w=m[k],{filter:{event:b,schema:x,table:C,filter:A}}=w,I=f&&f[k];if(I&&I.event===b&&I.schema===x&&I.table===C&&I.filter===A)S.push(Object.assign(Object.assign({},w),{id:I.id}));else{this.unsubscribe(),this.state=je.errored,e?.(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Dt.SUBSCRIBED);return}}).receive("error",f=>{this.state=je.errored,e?.(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===je.joined&&e===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Ao(this,lt.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,o=setTimeout(()=>n.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(o),i}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ao(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_v){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=lt;if(s&&[a,l,c,u].indexOf(i)>=0&&s!==this._joinRef())return;let h=this._onMessage(i,r,s);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var p,m,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(f=>f.callback(h,s)):(o=this.bindings[i])===null||o===void 0||o.filter(f=>{var p,m,y,S,k,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const b=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((m=r.ids)===null||m===void 0?void 0:m.includes(b))&&(x==="*"||x?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(k=(S=f?.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return b==="*"||b===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:y,commit_timestamp:S,type:k,errors:w}=p;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:S,eventType:k,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,s)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),o={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Vi.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lt.close,{},e)}_onError(e){this._on(lt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Rl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Rl(e.columns,e.old_record)),r}}const Oo=()=>{},sn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ov=[1e3,2e3,5e3,1e4],kv=1e4,Tv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rv{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ci,this.transport=null,this.heartbeatIntervalMs=sn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oo,this.ref=0,this.reconnectTimer=null,this.vsn=Tl,this.logger=Oo,this.conn=null,this.sendBuffer=[],this.serializer=new bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...o)=>n(...o):(...o)=>fetch(...o),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ui.websocket}`,this.httpEndpoint=Nd(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case vr.connecting:return yr.Connecting;case vr.open:return yr.Open;case vr.closing:return yr.Closing;default:return yr.Closed}}isConnected(){return this.connectionState()===yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===s);if(n)return n;{const o=new Vi(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:s,payload:n,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===vr.open||this.conn.readyState===vr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Tv],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:mv};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Id(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,o,i,a,l,c,u,d,h,f;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:ci,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:sn.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e?.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Oo,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:Tl,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(p=>Ov[p-1]||kv),this.vsn){case jd:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((p,m)=>m(JSON.stringify(p))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:((p,m)=>m(JSON.parse(p)));break;case vv:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ki extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Pv extends Ki{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hi extends Ki{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Wi=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$v=()=>Response,fi=t=>{if(Array.isArray(t))return t.map(r=>fi(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=fi(s)}),e},jv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ko=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Iv=(t,e,r)=>K(void 0,void 0,void 0,function*(){const s=yield $v();t instanceof s&&!r?.noResolveJson?t.json().then(n=>{const o=t.status||500,i=n?.statusCode||o+"";e(new Pv(ko(n),o,i))}).catch(n=>{e(new hi(ko(n),n))}):e(new hi(ko(t),t))}),Lv=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!s?n:(jv(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(s)):n.body=s,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function Vs(t,e,r,s,n,o){return K(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Lv(e,s,n,o)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Iv(l,a,s))})})}function js(t,e,r,s){return K(this,void 0,void 0,function*(){return Vs(t,"GET",e,r,s)})}function pt(t,e,r,s,n){return K(this,void 0,void 0,function*(){return Vs(t,"POST",e,s,n,r)})}function pi(t,e,r,s,n){return K(this,void 0,void 0,function*(){return Vs(t,"PUT",e,s,n,r)})}function Nv(t,e,r,s){return K(this,void 0,void 0,function*(){return Vs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function zi(t,e,r,s,n){return K(this,void 0,void 0,function*(){return Vs(t,"DELETE",e,s,n,r)})}class Uv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}var Ud;class Dv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ud]="BlobDownloadBuilder",this.promise=null}asStream(){return new Uv(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}Ud=Symbol.toStringTag;const Fv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bv{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=Wi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return K(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},jl),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?pi:pt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}upload(e,r,s){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return K(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:jl.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield pi(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return K(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r?.upsert&&(n["x-upsert"]="true");const o=yield pt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ki("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}update(e,r,s){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}copy(e,r,s){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),o=yield pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return K(this,void 0,void 0,function*(){try{const n=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>js(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Dv(l,this.shouldThrowOnError)}info(e){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield js(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fi(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}exists(e){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Nv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s)&&s instanceof hi){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&n.push(o);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return K(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}list(e,r,s){return K(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fv),r),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}listV2(e,r){return K(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Dd="2.81.1",Fd={"X-Client-Info":`storage-js/${Dd}`};class Mv{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const o=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fd),r),this.fetch=Wi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return K(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield js(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}createBucket(e){return K(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return K(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class qv{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fd),r),this.fetch=Wi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBuckets(e){return K(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield js(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}const Gi={"X-Client-Info":`storage-js/${Dd}`,"Content-Type":"application/json"};class Bd extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class To extends Bd{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hv extends Bd{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Il;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Il||(Il={}));const Ji=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Vv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ll=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kv=(t,e,r)=>K(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=i?.statusCode||i?.code||n+"";e(new To(Ll(i),n,a))}).catch(()=>{const i=n+"",a=o.statusText||`HTTP ${n} error`;e(new To(a,n,i))});else{const i=n+"",a=o.statusText||`HTTP ${n} error`;e(new To(a,n,i))}}else e(new Hv(Ll(t),t))}),Wv=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return s?(Vv(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function zv(t,e,r,s,n,o){return K(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Wv(e,s,n,o)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>Kv(l,a,s))})})}function tt(t,e,r,s,n){return K(this,void 0,void 0,function*(){return zv(t,"POST",e,s,n,r)})}class Gv{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Ji(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return K(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getIndex(e,r){return K(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listIndexes(e){return K(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return K(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}}class Jv{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Ji(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return K(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listVectors(e){return K(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}queryVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteVectors(e){return K(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class Yv{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Ji(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listBuckets(){return K(this,arguments,void 0,function*(e={}){try{return{data:yield tt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class Zv extends Yv{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Qv(this.url,this.headers,e,this.fetch)}}class Qv extends Gv{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Xv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Xv extends Jv{constructor(e,r,s,n,o){super(e,r,o),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ey extends Mv{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new Bv(this.url,this.headers,e,this.fetch)}get vectors(){return new Zv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qv(this.url+"/iceberg",this.headers,this.fetch)}}const ty="2.81.1";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const ry={"X-Client-Info":`supabase-js-${hs}/${ty}`},sy={headers:ry},ny={schema:"public"},oy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iy={},ay=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ly=()=>Headers,cy=(t,e,r)=>{const s=ay(r),n=ly();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(i?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(o,Object.assign(Object.assign({},i),{headers:c}))}};function uy(t){return t.endsWith("/")?t:t+"/"}function dy(t,e){var r,s;const{db:n,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d?.headers)!==null&&r!==void 0?r:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function hy(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Md="2.81.1",Mr=30*1e3,gi=3,Ro=gi*Mr,fy="http://localhost:9999",py="supabase.auth.token",gy={"X-Client-Info":`gotrue-js/${Md}`},mi="X-Supabase-Api-Version",qd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},my=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vy=600*1e3;class Is extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yy extends Is{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function _y(t){return z(t)&&t.name==="AuthApiError"}class _r extends Is{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class or extends Is{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class ht extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function by(t){return z(t)&&t.name==="AuthSessionMissingError"}class jr extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nn extends or{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class on extends or{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wy(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nl extends or{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vi extends or{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Po(t){return z(t)&&t.name==="AuthRetryableFetchError"}class Ul extends or{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class yi extends or{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dl=` 	
\r=`.split(""),Ey=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dl.length;e+=1)t[Dl[e].charCodeAt(0)]=-2;for(let e=0;e<jn.length;e+=1)t[jn[e].charCodeAt(0)]=e;return t})();function Fl(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(jn[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(jn[s]),e.queuedBits-=6}}function Hd(t,e,r){const s=Ey[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bl(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{Cy(i,s,r)};for(let i=0;i<t.length;i+=1)Hd(t.charCodeAt(i),n,o);return e.join("")}function Sy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xy(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Sy(s,e)}}function Cy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function zr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Hd(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Ay(t){const e=[];return xy(t,r=>e.push(r)),new Uint8Array(e)}function wr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>Fl(n,r,s)),Fl(null,r,s),e.join("")}function Oy(t){return Math.round(Date.now()/1e3)+t}function ky(){return Symbol("auth-callback")}const Ne=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},Vd=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function Ty(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Kd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ry=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},dr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gt=async(t,e)=>{await t.removeItem(e)};class io{constructor(){this.promise=new io.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}io.promiseConstructor=Promise;function $o(t){const e=t.split(".");if(e.length!==3)throw new yi("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!my.test(e[s]))throw new yi("JWT not in base64url format");return{header:JSON.parse(Bl(e[0])),payload:JSON.parse(Bl(e[1])),signature:zr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Py(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $y(t,e){return new Promise((s,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function jy(t){return("0"+t.toString(16)).substr(-2)}function Iy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let o=0;o<56;o++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,jy).join("")}async function Ly(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function Ny(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ly(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(t,e,r=!1){const s=Iy();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await qr(t,`${e}-code-verifier`,n);const o=await Ny(s);return[o,s===o?"plain":"s256"]}const Uy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dy(t){const e=t.headers.get(mi);if(!e||!e.match(Uy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function By(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const My=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(t){if(!My.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qy(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function Ml(t){return JSON.parse(JSON.stringify(t))}const gr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hy=[502,503,504];async function ql(t){var e;if(!Ry(t))throw new vi(gr(t),0);if(Hy.includes(t.status))throw new vi(gr(t),t.status);let r;try{r=await t.json()}catch(o){throw new _r(gr(o),o)}let s;const n=Dy(t);if(n&&n.getTime()>=qd["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ul(gr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ul(gr(r),t.status,r.weak_password.reasons);throw new yy(gr(r),t.status||500,s)}const Vy=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function ee(t,e,r,s){var n;const o=Object.assign({},s?.headers);o[mi]||(o[mi]=qd["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(i.redirect_to=s.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Ky(t,e,r+a,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Ky(t,e,r,s,n,o){const i=Vy(e,s,n,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new vi(gr(l),0)}if(a.ok||await ql(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await ql(l)}}function ft(t){var e;let r=null;Gy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Oy(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Hl(t){const e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function er(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wy(t){return{data:t,error:null}}function zy(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o}=t,i=ns(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Vl(t){return t}function Gy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Io=["global","local","others"];class Jy{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Kd(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Io[0]){if(Io.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Io.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=ns(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:zy,redirectTo:r?.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:er})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:Vl});if(u.error)throw u.error;const d=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Lr(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:er})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Lr(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:er})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Lr(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Lr(e.userId);try{const{data:r,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Lr(e.userId),Lr(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:Vl});if(u.error)throw u.error;const d=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(z(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}}function Kl(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Nr={debug:!!(globalThis&&Vd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yy extends Wd{}async function Zy(t,e,r){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Yy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Qy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zd(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Xy(t){return parseInt(t,16)}function e_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function t_(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=zd(t.address),p=u?`${u}://${s}`:s,m=t.statement?`${t.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`;let S=`URI: ${d}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(n&&(S+=`
Expiration Time: ${n.toISOString()}`),a&&(S+=`
Not Before: ${a.toISOString()}`),l&&(S+=`
Request ID: ${l}`),c){let k=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);k+=`
- ${w}`}S+=k}return`${y}
${S}`}class Pe extends Error{constructor({message:e,code:r,cause:s,name:n}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=n??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class In extends Pe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function r_({error:t,options:e}){var r,s,n;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Gd(i)){if(o.rp.id!==i)return new Pe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function s_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Gd(s)){if(r.rpId!==s)return new Pe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class n_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const o_=new n_;function i_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=ns(t,["challenge","user","excludeCredentials"]),o=zr(e).buffer,i=Object.assign(Object.assign({},r),{id:zr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:o,user:i});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:zr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function a_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=ns(t,["challenge","allowCredentials"]),n=zr(e).buffer,o=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:zr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function l_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:wr(new Uint8Array(n.authenticatorData)),clientDataJSON:wr(new Uint8Array(n.clientDataJSON)),signature:wr(new Uint8Array(n.signature)),userHandle:n.userHandle?wr(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gd(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Wl(){var t,e;return!!(Ne()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function u_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new In("Browser returned unexpected credential type",e)}:{data:null,error:new In("Empty credential response",e)}}catch(e){return{data:null,error:r_({error:e,options:t})}}}async function d_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new In("Browser returned unexpected credential type",e)}:{data:null,error:new In("Empty credential response",e)}}catch(e){return{data:null,error:s_({error:e,options:t})}}}const h_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},f_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ln(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const o in n){const i=n[o];if(i!==void 0)if(Array.isArray(i))s[o]=i;else if(r(i))s[o]=i;else if(e(i)){const a=s[o];e(a)?s[o]=Ln(a,i):s[o]=Ln(i)}else s[o]=i}return s}function p_(t,e){return Ln(h_,t,e||{})}function g_(t,e){return Ln(f_,t,e||{})}class m_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const l=n??o_.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=p_(i.webauthn.credential_options.publicKey,o?.create),{data:u,error:d}=await u_({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=g_(i.webauthn.credential_options.publicKey,o?.request),{data:u,error:d}=await d_(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new _r("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!Wl())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new _r("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!Wl())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new _r("Unexpected error in register",i)}}}}Qy();const v_={url:fy,storageKey:py,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zl(t,e,r){return await r()}const Ur={};class Ls{get jwks(){var e,r;return(r=(e=Ur[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ur[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},v_),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Ls.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ls.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ne()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Jy({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Kd(o.fetch),this.lock=o.lock||zl,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ne()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Zy:this.lock=zl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new m_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Vd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kl(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Kl(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Md}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Ne()&&(r=Ty(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ne()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:o}=await this._getSessionFromURL(r,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),wy(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?this._returnResult({error:r}):this._returnResult({error:new _r("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ft}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,s,n;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ir(this.storage,this.storageKey)),o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:p},xform:ft})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h?.data)!==null&&s!==void 0?s:{},channel:(n=h?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ft})}else throw new nn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Hl})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Hl})}else throw new nn("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const o=new jr;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,o,i,a,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:m,wallet:y,statement:S,options:k}=e;let w;if(Ne())if(typeof y=="object")w=y;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")w=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const b=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),x=await w.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=zd(x[0]);let A=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const L=await w.request({method:"eth_chainId"});A=Xy(L)}const I={domain:b.host,address:C,statement:S,uri:b.href,version:"1",chainId:A,nonce:(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(i=(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=t_(I),p=await w.request({method:"personal_sign",params:[e_(f),C]})}try{const{data:m,error:y}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ft});if(y)throw y;if(!m||!m.session||!m.user){const S=new jr;return this._returnResult({data:{user:null,session:null},error:S})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(z(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,s,n,o,i,a,l,c,u,d,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:y,wallet:S,statement:k,options:w}=e;let b;if(Ne())if(typeof S=="object")b=S;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))b=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=S}const x=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const C=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),k?{statement:k}:null));let A;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")A=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)A=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)p=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(n=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=w?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const C=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:y,error:S}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:wr(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ft});if(S)throw S;if(!y||!y.session||!y.user){const k=new jr;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:S})}catch(y){if(z(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await dr(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:o,error:i}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ft});if(await Gt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new jr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(z(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:o,nonce:i}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ft}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new jr;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ir(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new nn("You must provide either an email or phone number.")}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,s;try{let n,o;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:ft});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ir(this.storage,this.storageKey));const c=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Wy});return!((o=c.data)===null||o===void 0)&&o.url&&Ne()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new ht;const{error:n}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(z(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:o}=e,{error:i}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:s,type:n,options:o}=e,{data:i,error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i?.message_id},error:a})}throw new nn("You must provide either an email or phone number and a type")}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ro:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await dr(this.userStorage,this.storageKey+"-user");i?.user?e.user=i.user:e.user=jo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=qy(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:er}):await this._useSession(async r=>{var s,n,o;const{data:i,error:a}=r;if(a)throw a;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:er})})}catch(r){if(z(r))return by(r)&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:o}=s;if(o)throw o;if(!n.session)throw new ht;const i=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ir(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:er});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(s){if(z(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ht;const r=Date.now()/1e3;let s=r,n=!0,o=null;const{payload:i}=$o(e.access_token);if(i.exp&&(s=i.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new ht;const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ne())throw new on("No browser detected.");if(e.error||e.error_description||e.error_code)throw new on(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new on("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nl("No code detected.");const{data:k,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new on("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const S={provider_token:s,provider_refresh_token:n,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(s){if(z(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return this._returnResult({error:o});const i=(s=n.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(_y(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ky(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:o},error:i}=r;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Ir(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(z(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async o=>{var i,a,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ne()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(z(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:o}}=r;if(n)throw n;const{options:i,provider:a,token:l,access_token:c,nonce:u}=e,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ft}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)throw i;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await $y(async n=>(n>0&&await Py(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ft})),(n,o)=>{const i=200*Math.pow(2,n);return o&&Po(o)&&Date.now()+i-s<Mr})}catch(s){if(this._debug(r,"error",s),z(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ne()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await dr(this.storage,this.storageKey);if(n&&this.userStorage){let i=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await qr(this.userStorage,this.storageKey+"-user",i)),n.user=(e=i?.user)!==null&&e!==void 0?e:jo()}else if(n&&!n.user&&!n.user){const i=await dr(this.storage,this.storageKey+"-user");i&&i?.user?(n.user=i.user,await Gt(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,n)):n.user=jo()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const o=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ro;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Ro}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Po(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(n.access_token);!a&&i?.user?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new io;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new ht;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(n,"error",o),z(o)){const i={data:null,error:o};return Po(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await qr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const o=Ml(n);await qr(this.storage,this.storageKey,o)}else{const n=Ml(r);await qr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Gt(this.storage,this.storageKey),await Gt(this.storage,this.storageKey+"-code-verifier"),await Gt(this.storage,this.storageKey+"-user"),this.userStorage&&await Gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Mr}ms, refresh threshold is ${gi} ticks`),n<=gi&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(a.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);n.push(o.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?this._returnResult({data:null,error:o}):await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?l_(e.webauthn.credential_response):c_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:i_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:a_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])n.all.push(o),o.status==="verified"&&n[o.factor_type].push(o);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$o(s.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ht})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new ht});const i=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Ne()&&!r?.skipBrowserRedirect&&window.location.assign(i.data.redirect_url),i})}catch(s){if(z(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new ht});const i=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Ne()&&!r?.skipBrowserRedirect&&window.location.assign(i.data.redirect_url),i})}catch(s){if(z(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+vy>n)return s;const{data:o,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=n,s=o.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});s=f.session.access_token}const{header:n,payload:o,signature:i,raw:{header:a,payload:l}}=$o(s);r?.allowExpired||Fy(o.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:o,header:n,signature:i},error:null}}const u=By(n.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,Ay(`${a}.${l}`)))throw new yi("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(s){if(z(s))return this._returnResult({data:null,error:s});throw s}}}Ls.nextInstanceID={};const y_=Ls;class __ extends y_{constructor(e){super(e)}}class b_{constructor(e,r,s){var n,o,i;this.supabaseUrl=e,this.supabaseKey=r;const a=hy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:ny,realtime:iy,auth:Object.assign(Object.assign({},oy),{storageKey:l}),global:sy},u=dy(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=cy(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new fv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ey(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new av(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new __({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const w_=(t,e,r)=>new b_(t,e,r);function E_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}E_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S_="https://ajgvwsuwojjeysyvlhso.supabase.co",x_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFqZ3Z3c3V3b2pqZXlzeXZsaHNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwODcwNzgsImV4cCI6MjA3MzY2MzA3OH0.vgoVTH2kBgszcgg9x3CgRRQUSOygMTa81pIJPu0VBYw",Gl=w_(S_,x_),Ks=es("students",{state:()=>({students:[],loading:!1}),getters:{auth:()=>ss()},actions:{async fetchStudents(){if(!(this.students.length>0)){this.loading=!0;try{const t=await oe.get("/api/students",this.getAuthConfig());this.students=t.data}catch(t){console.error("Fetch students error:",t.response||t)}finally{this.loading=!1}}},async refreshStudents(){this.loading=!0;try{const t=await oe.get("/api/students",this.getAuthConfig());this.students=t.data}catch(t){console.error("Refresh students error:",t.response||t)}finally{this.loading=!1}},async createStudent(t){this.loading=!0;try{const e=await oe.post("/api/students",t,this.getAuthConfig());return this.students.push(e.data.student),e}catch(e){throw console.error("Create student error:",e.response||e),e}finally{this.loading=!1}},async updateStudent(t,e){this.loading=!0;try{const r=await oe.put(`/api/students/${t}`,e,this.getAuthConfig()),s=this.students.findIndex(n=>n.student_id===t);return s!==-1&&(this.students[s]=r.data.student),r}catch(r){throw console.error("Update student error:",r.response||r),r}finally{this.loading=!1}},async deleteStudent(t){this.loading=!0;try{const e=await oe.delete(`/api/students/${t}`,this.getAuthConfig());return this.students=this.students.filter(r=>r.student_id!==t),e}catch(e){throw console.error("Delete student error:",e.response||e),e}finally{this.loading=!1}},async updateStudentImage(t,e){this.loading=!0;try{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type))throw new Error("Please upload a valid image (JPEG, PNG, WebP)");const s=5*1024*1024;if(e.size>s)throw new Error("File size must be less than 5MB");const n=e.name.split(".").pop(),o=`students/${t}-${Date.now()}.${n}`,{error:i}=await Gl.storage.from("student-avatars").upload(o,e,{cacheControl:"3600",upsert:!0,contentType:e.type});if(i)throw new Error(i.message);const{data:a}=Gl.storage.from("student-avatars").getPublicUrl(o);if(!a?.publicUrl)throw new Error("Failed to get image URL");const l=await oe.patch(`/api/students/${t}/image`,{image_url:a.publicUrl},this.getAuthConfig()),c=this.students.findIndex(u=>u.student_id===t);return c!==-1&&(this.students[c].image_url=l.data.student.image_url),l.data.student.image_url}catch(r){throw console.error("Update student image error:",r.response||r),r}finally{this.loading=!1}},getAuthConfig(){return this.auth.token?{headers:{Authorization:`Bearer ${this.auth.token}`}}:{}}}}),C_={key:0,class:"modal-overlay"},A_={class:"modal-content"},O_={class:"modal-title"},k_={class:"form-group avatar-group"},T_=["src"],R_={key:1,class:"avatar-placeholder"},P_={class:"avatar-initials"},$_={class:"form-group"},j_=["readonly"],I_={key:0,class:"error-message"},L_={class:"form-group"},N_={key:0,class:"error-message"},U_={class:"form-group"},D_={key:0,class:"error-message"},F_={class:"form-group"},B_={key:0,class:"error-message"},M_={class:"form-group"},q_={key:0,class:"error-message"},H_={class:"form-group"},V_=["value"],K_={key:0,class:"error-message"},W_={class:"button-group"},z_=["disabled"],G_={__name:"StudentModal",setup(t){const e=kr(),r=Rr(),s=Ks(),n=Tr(),o=X(null),i=X(null),a=X(""),l=vt({student_id:"",first_name:"",last_name:"",year_level:"",gender:"",program_code:"",image_url:""}),c=vt({student_id:"",first_name:"",last_name:"",year_level:"",gender:"",program_code:""}),u=X(!1),d=Ce(()=>u.value?e.isEditMode?"Updating...":"Saving...":e.isEditMode?"Update":"Save");Fe(()=>e.isEditMode,C=>{C&&e.currentStudent?(Object.assign(l,e.currentStudent),h(),a.value=e.currentStudent.image_url||"",o.value=null):C||x()}),Fe(()=>e.currentStudent,C=>{C&&e.isEditMode&&(Object.assign(l,C),h(),a.value=C.image_url||"",o.value=null)}),nr(()=>{r.fetchPrograms()});const h=()=>{a.value&&a.value.startsWith("blob:")&&URL.revokeObjectURL(a.value)};$i(()=>{h()});const f=C=>{const A=C.target.files[0]||null;o.value=A,h(),a.value=A?URL.createObjectURL(A):l.image_url||"",i.value&&(i.value.value=""),C?.target&&(C.target.value="")},p=()=>{i.value?.click()},m=Ce(()=>a.value||l.image_url||""),y=Ce(()=>{const C=(l.first_name||"").trim().charAt(0),A=(l.last_name||"").trim().charAt(0);return`${C}${A}`.toUpperCase()||"+"}),S=C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),p())},k=()=>{Object.keys(c).forEach(A=>c[A]="");let C=!0;return!l.student_id||!l.student_id.toString().trim()?(c.student_id="Student ID is required",C=!1):/^\d{4}-\d{4}$/.test(l.student_id)||(c.student_id="Student ID must be in format NNNN-YYYY",C=!1),!l.first_name||!l.first_name.toString().trim()?(c.first_name="First Name is required",C=!1):/^[a-zA-Z\s]+$/.test(l.first_name)||(c.first_name="First Name can only contain letters and spaces",C=!1),!l.last_name||!l.last_name.toString().trim()?(c.last_name="Last Name is required",C=!1):/^[a-zA-Z\s]+$/.test(l.last_name)||(c.last_name="Last Name can only contain letters and spaces",C=!1),l.year_level||(c.year_level="Year Level is required",C=!1),l.gender||(c.gender="Gender is required",C=!1),l.program_code||(c.program_code="Program is required",C=!1),C},w=async()=>{if(k()){u.value=!0;try{const C={student_id:l.student_id,first_name:l.first_name.trim(),last_name:l.last_name.trim(),year_level:parseInt(l.year_level),gender:l.gender,program_code:l.program_code},A=e.isEditMode;if(A?await s.updateStudent(l.student_id,C):await s.createStudent(C),o.value){const I=await s.updateStudentImage(l.student_id,o.value);I&&(h(),l.image_url=I,a.value=I,o.value=null,i.value&&(i.value.value=""))}await s.refreshStudents(),x(),e.close(),n.showToast(A?"Student updated successfully!":"Student added successfully!","success"),o.value=null}catch(C){console.error("Error saving student:",C),n.showToast(C.message||"Error saving student","error")}finally{u.value=!1}}},b=C=>{let A=(C.target.value||"").toString().replace(/\D/g,"");A.length>4&&(A=A.substring(0,4)+"-"+A.substring(4,8)),l.student_id=A},x=()=>{Object.keys(l).forEach(C=>l[C]=""),Object.keys(c).forEach(C=>c[C]=""),o.value=null,h(),a.value="",i.value&&(i.value.value="")};return(C,A)=>(q(),V("div",null,[J(e).activeModal==="studentForm"?(q(),V("div",C_,[g("div",A_,[g("h1",O_,G(J(e).isEditMode?"Edit Student":"Add Student"),1),g("form",{onSubmit:Jn(w,["prevent"])},[g("div",k_,[g("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:"image/*",class:"file-input-hidden",onChange:f},null,544),g("div",{class:"avatar-wrapper",role:"button",tabindex:"0",onClick:p,onKeydown:S},[m.value?(q(),V("img",{key:0,src:m.value,alt:"Student avatar preview"},null,8,T_)):(q(),V("div",R_,[g("span",P_,G(y.value),1),A[7]||(A[7]=g("span",{class:"avatar-hint"},"Upload photo",-1))])),A[8]||(A[8]=g("div",{class:"avatar-overlay"},"Change photo",-1))],32)]),g("div",$_,[A[9]||(A[9]=g("label",null,"Student ID:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=I=>l.student_id=I),onInput:b,placeholder:"2024-0001",maxlength:"9",class:Ue({error:c.student_id}),readonly:J(e).isEditMode,style:Xr(J(e).isEditMode?"background-color: #f5f5f5; cursor: not-allowed;":"")},null,46,j_),[[jt,l.student_id]]),c.student_id?(q(),V("span",I_,G(c.student_id),1)):be("",!0)]),g("div",L_,[A[10]||(A[10]=g("label",null,"First Name:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":A[1]||(A[1]=I=>l.first_name=I),class:Ue({error:c.first_name})},null,2),[[jt,l.first_name]]),c.first_name?(q(),V("span",N_,G(c.first_name),1)):be("",!0)]),g("div",U_,[A[11]||(A[11]=g("label",null,"Last Name:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":A[2]||(A[2]=I=>l.last_name=I),class:Ue({error:c.last_name})},null,2),[[jt,l.last_name]]),c.last_name?(q(),V("span",D_,G(c.last_name),1)):be("",!0)]),g("div",F_,[A[13]||(A[13]=g("label",null,"Year Level:",-1)),Je(g("select",{"onUpdate:modelValue":A[3]||(A[3]=I=>l.year_level=I),class:Ue({error:c.year_level})},[...A[12]||(A[12]=[Wo('<option value="" data-v-45abee10>Select year level...</option><option value="1" data-v-45abee10>1st Year</option><option value="2" data-v-45abee10>2nd Year</option><option value="3" data-v-45abee10>3rd Year</option><option value="4" data-v-45abee10>4th Year</option>',5)])],2),[[hn,l.year_level]]),c.year_level?(q(),V("span",B_,G(c.year_level),1)):be("",!0)]),g("div",M_,[A[15]||(A[15]=g("label",null,"Gender:",-1)),Je(g("select",{"onUpdate:modelValue":A[4]||(A[4]=I=>l.gender=I),class:Ue({error:c.gender})},[...A[14]||(A[14]=[g("option",{value:""},"Select gender...",-1),g("option",{value:"Male"},"Male",-1),g("option",{value:"Female"},"Female",-1),g("option",{value:"Other"},"Other",-1)])],2),[[hn,l.gender]]),c.gender?(q(),V("span",q_,G(c.gender),1)):be("",!0)]),g("div",H_,[A[17]||(A[17]=g("label",null,"Program:",-1)),Je(g("select",{"onUpdate:modelValue":A[5]||(A[5]=I=>l.program_code=I),class:Ue({error:c.program_code})},[A[16]||(A[16]=g("option",{value:""},"Select a program...",-1)),(q(!0),V(Ae,null,Ht(J(r).programs,I=>(q(),V("option",{key:I.program_code,value:I.program_code},G(I.program_code)+" - "+G(I.program_name),9,V_))),128))],2),[[hn,l.program_code]]),c.program_code?(q(),V("span",K_,G(c.program_code),1)):be("",!0)]),g("div",W_,[g("button",{type:"button",onClick:A[6]||(A[6]=I=>{J(e).close(),x()}),class:"btn btn-cancel"},"Cancel"),g("button",{type:"submit",class:"btn btn-save",disabled:u.value},G(d.value),9,z_)])],32)])])):be("",!0)]))}},Jd=Hs(G_,[["__scopeId","data-v-45abee10"]]),ao=es("colleges",{state:()=>({colleges:[],loading:!1}),getters:{auth:()=>ss()},actions:{async fetchColleges(){if(!(this.colleges.length>0)){this.loading=!0;try{const t=await oe.get("/api/colleges",this.getAuthConfig());this.colleges=t.data}catch(t){console.error("Fetch colleges error:",t.response||t)}finally{this.loading=!1}}},async refreshColleges(){this.loading=!0;try{const t=await oe.get("/api/colleges",this.getAuthConfig());this.colleges=t.data}catch(t){console.error("Refresh colleges error:",t.response||t)}finally{this.loading=!1}},async createCollege(t){this.loading=!0;try{const e=await oe.post("/api/colleges",t,this.getAuthConfig());return this.colleges.push(e.data.college),e}catch(e){throw console.error("Create college error:",e.response||e),e}finally{this.loading=!1}},async updateCollege(t,e){this.loading=!0;try{const r=await oe.put(`/api/colleges/${t}`,e,this.getAuthConfig()),s=this.colleges.findIndex(n=>n.college_code===t);return s!==-1&&(this.colleges[s]=r.data.college),r}catch(r){throw console.error("Update college error:",r.response||r),r}finally{this.loading=!1}},async deleteCollege(t){this.loading=!0;try{const e=await oe.delete(`/api/colleges/${t}`,this.getAuthConfig());return this.colleges=this.colleges.filter(r=>r.college_code!==t),e}catch(e){throw console.error("Delete college error:",e.response||e),e}finally{this.loading=!1}},getAuthConfig(){return this.auth.token?{headers:{Authorization:`Bearer ${this.auth.token}`}}:{}}}}),J_={key:0,class:"modal-overlay"},Y_={class:"modal-content"},Z_={class:"modal-title"},Q_={class:"form-group"},X_={key:0,class:"error-message"},eb={class:"form-group"},tb={key:0,class:"error-message"},rb={class:"form-group"},sb=["value"],nb={key:0,class:"error-message"},ob={class:"button-group"},ib=["disabled"],ab={__name:"ProgramModal",setup(t){const e=kr(),r=Rr(),s=ao(),n=Ks(),o=Tr(),i=vt({program_code:"",program_name:"",college_code:""}),a=vt({program_code:"",program_name:"",college_code:""}),l=X(!1),c=Ce(()=>l.value?e.isEditMode?"Updating...":"Saving...":e.isEditMode?"Update":"Save"),u=X("");Fe(()=>e.isEditMode,m=>{m&&e.currentProgram?(Object.assign(i,e.currentProgram),u.value=e.currentProgram.program_code):(h(),u.value="")}),Fe(()=>e.currentProgram,m=>{m&&e.isEditMode&&Object.assign(i,m)}),nr(()=>{s.fetchColleges()});const d=()=>{Object.keys(a).forEach(y=>a[y]="");let m=!0;return i.program_code.trim()?/^[A-Za-z]{2,}$/.test(i.program_code)||(a.program_code="Program Code must be letters only (e.g., BS)",m=!1):(a.program_code="Program Code is required",m=!1),i.program_name.trim()?/^[a-zA-Z\s]+$/.test(i.program_name)||(a.program_name="Program Name can only contain letters and spaces",m=!1):(a.program_name="Program Name is required",m=!1),i.college_code.trim()||(a.college_code="College Code is required",m=!1),m},h=()=>{Object.keys(i).forEach(m=>i[m]=""),Object.keys(a).forEach(m=>a[m]="")},f=m=>{i.program_code=m.target.value.toUpperCase().replace(/[^A-Z]/g,"")},p=async()=>{if(!d())return;l.value=!0;const m={program_code:i.program_code,program_name:i.program_name.trim(),college_code:i.college_code};try{e.isEditMode?await r.updateProgram(u.value,m):await r.createProgram(m);const y=e.isEditMode;h(),e.close(),o.showToast(y?"Program updated successfully!":"Program added successfully!","success"),await r.refreshPrograms(),await n.refreshStudents()}catch(y){console.error("Error saving program:",y),o.showToast(y.message||"Failed to save program","error")}finally{l.value=!1}};return(m,y)=>J(e).activeModal==="programForm"?(q(),V("div",J_,[g("div",Y_,[g("h1",Z_,G(J(e).isEditMode?"Edit Program":"Add Program"),1),g("form",{onSubmit:Jn(p,["prevent"])},[g("div",Q_,[y[4]||(y[4]=g("label",null,"Program Code:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=S=>i.program_code=S),onInput:f,placeholder:"BSCS",maxlength:"20",class:Ue({error:a.program_code}),style:Xr(J(e).isEditMode?"background-color: #f5f5f5;":"")},null,38),[[jt,i.program_code]]),a.program_code?(q(),V("span",X_,G(a.program_code),1)):be("",!0)]),g("div",eb,[y[5]||(y[5]=g("label",null,"Program Name:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=S=>i.program_name=S),placeholder:"Bachelor of Science",class:Ue({error:a.program_name})},null,2),[[jt,i.program_name]]),a.program_name?(q(),V("span",tb,G(a.program_name),1)):be("",!0)]),g("div",rb,[y[7]||(y[7]=g("label",null,"College:",-1)),Je(g("select",{"onUpdate:modelValue":y[2]||(y[2]=S=>i.college_code=S),class:Ue({error:a.college_code})},[y[6]||(y[6]=g("option",{value:""},"Select a college...",-1)),(q(!0),V(Ae,null,Ht(J(s).colleges,S=>(q(),V("option",{key:S.college_code,value:S.college_code},G(S.college_code)+" - "+G(S.college_name),9,sb))),128))],2),[[hn,i.college_code]]),a.college_code?(q(),V("span",nb,G(a.college_code),1)):be("",!0)]),g("div",ob,[g("button",{type:"button",onClick:y[3]||(y[3]=S=>{J(e).close(),h()}),class:"btn btn-cancel"},"Cancel"),g("button",{type:"submit",class:"btn btn-save",disabled:l.value},G(c.value),9,ib)])],32)])])):be("",!0)}},Yd=Hs(ab,[["__scopeId","data-v-6cdaf5aa"]]),lb={key:0,class:"modal-overlay"},cb={class:"modal-content"},ub={class:"modal-title"},db={class:"form-group"},hb={key:0,class:"error-message"},fb={class:"form-group"},pb={key:0,class:"error-message"},gb={class:"button-group"},mb=["disabled"],vb={__name:"CollegeModal",setup(t){const e=kr(),r=ao(),s=Rr(),n=Tr(),o=X(""),i=vt({college_code:"",college_name:""}),a=vt({college_code:"",college_name:""}),l=X(!1),c=X("Save");Fe(()=>e.isEditMode,p=>{p&&e.currentCollege?(i.college_code=e.currentCollege.college_code,i.college_name=e.currentCollege.college_name,o.value=e.currentCollege.college_code):(h(),o.value="")}),Fe(()=>e.currentCollege,p=>{p&&e.isEditMode&&(i.college_code=p.college_code,i.college_name=p.college_name)});const u=()=>{Object.keys(a).forEach(m=>a[m]="");let p=!0;return i.college_code.trim()?/^[A-Za-z]{2,}$/.test(i.college_code)||(a.college_code="College Code must be letters only (e.g., CC)",p=!1):(a.college_code="College Code is required",p=!1),i.college_name.trim()?/^[a-zA-Z\s]+$/.test(i.college_name)||(a.college_name="College Name can only contain letters and spaces",p=!1):(a.college_name="College Name is required",p=!1),p},d=p=>{i.college_code=p.target.value.toUpperCase().replace(/[^A-Z]/g,"")},h=()=>{Object.keys(i).forEach(p=>i[p]=""),Object.keys(a).forEach(p=>a[p]="")},f=async()=>{if(u()){l.value=!0,c.value=e.isEditMode?"Updating...":"Saving...";try{const p={college_code:i.college_code,college_name:i.college_name.trim()};e.isEditMode?await oe.put(`/api/colleges/${o.value}`,p):await oe.post("/api/colleges",p);const m=e.isEditMode;h(),e.close(),n.showToast(m?"College updated successfully!":"College added successfully!","success"),await r.refreshColleges(),await s.refreshPrograms()}catch(p){console.error("Error saving college:",p),p.response&&p.response.data?n.showToast(p.response.data.error||p.response.data.message||"Failed to save college","error"):p.message?n.showToast(p.message,"error"):n.showToast("Error saving college. Please try again.","error")}finally{l.value=!1,c.value="Save"}}};return(p,m)=>J(e).activeModal==="collegeForm"?(q(),V("div",lb,[g("div",cb,[g("h1",ub,G(J(e).isEditMode?"Edit College":"Add College"),1),g("form",{onSubmit:Jn(f,["prevent"])},[g("div",db,[m[3]||(m[3]=g("label",null,"College Code:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=y=>i.college_code=y),onInput:d,placeholder:"CCS",maxlength:"20",class:Ue({error:a.college_code}),style:Xr(J(e).isEditMode?"background-color: #f5f5f5;":"")},null,38),[[jt,i.college_code]]),a.college_code?(q(),V("span",hb,G(a.college_code),1)):be("",!0)]),g("div",fb,[m[4]||(m[4]=g("label",null,"College Name:",-1)),Je(g("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=y=>i.college_name=y),placeholder:"College of Computer Studies",class:Ue({error:a.college_name})},null,2),[[jt,i.college_name]]),a.college_name?(q(),V("span",pb,G(a.college_name),1)):be("",!0)]),g("div",gb,[g("button",{type:"button",onClick:m[2]||(m[2]=y=>{J(e).close(),h()}),class:"btn btn-cancel"},"Cancel"),g("button",{type:"submit",class:"btn btn-save",disabled:l.value},G(c.value),9,mb)])],32)])])):be("",!0)}},Zd=Hs(vb,[["__scopeId","data-v-03811441"]]),yb={class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},_b={class:"bg-white rounded-xl p-6 w-[300px] shadow-lg"},bb={class:"text-lg font-bold mb-4 text-center"},wb=["disabled"],Eb={key:1,class:"text-red-600 text-center mb-2"},Sb={class:"text-sm text-center"},xb={__name:"AuthModal",setup(t){const e=ss(),r=X(""),s=X(""),n=X(""),o=X("login"),i=X(null);async function a(){if(i.value=null,o.value==="register"&&s.value!==n.value){i.value="Passwords do not match";return}try{o.value==="login"?await e.login(r.value,s.value):await e.register(r.value,s.value)}catch(l){i.value=l.message}}return(l,c)=>(q(),V("div",yb,[g("div",_b,[g("h2",bb,G(o.value==="login"?"Login":"Register"),1),Je(g("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),class:"input input-bordered w-full mb-2",placeholder:"Username"},null,512),[[jt,r.value]]),Je(g("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"password",class:"input input-bordered w-full mb-2",placeholder:"Password"},null,512),[[jt,s.value]]),o.value==="register"?Je((q(),V("input",{key:0,"onUpdate:modelValue":c[2]||(c[2]=u=>n.value=u),type:"password",class:"input input-bordered w-full mb-4",placeholder:"Confirm Password"},null,512)),[[jt,n.value]]):be("",!0),g("button",{onClick:a,disabled:J(e).loading,class:"btn btn-primary w-full mb-2"},G(J(e).loading?o.value==="login"?"Logging in...":"Registering...":o.value==="login"?"Login":"Register"),9,wb),i.value?(q(),V("p",Eb,G(i.value),1)):be("",!0),g("p",Sb,[g("a",{href:"#",onClick:c[3]||(c[3]=Jn(u=>o.value=o.value==="login"?"register":"login",["prevent"])),class:"text-blue-600 hover:underline"},G(o.value==="login"?"No account? Register here.":"Already have an account? Login here."),1)])])]))}},Cb={class:"min-h-screen bg-gradient-to-br from-[#F8FAFC] to-[#C4F4E8] relative flex flex-col"},Ab={class:"flex-grow px-4 pb-8"},Ob={__name:"App",setup(t){const e=ss();return e.token&&oe.get("/api/auth/protected").catch(()=>e.logout()),(r,s)=>(q(),V("div",Cb,[g("header",null,[ce(ev),ce(q0),J(e).isLoggedIn?(q(),pr(Q0,{key:0})):be("",!0)]),g("main",Ab,[J(e).isLoggedIn?(q(),pr(J(Qu),{key:0})):be("",!0)]),J(e).isLoggedIn?(q(),pr(Jd,{key:0})):be("",!0),J(e).isLoggedIn?(q(),pr(Yd,{key:1})):be("",!0),J(e).isLoggedIn?(q(),pr(Zd,{key:2})):be("",!0),J(e).isLoggedIn?be("",!0):(q(),pr(xb,{key:3}))]))}},kb={},Tb={class:"footer footer-center p-6 bg-transparent text-gray-600 mt-auto"},Rb={class:"text-sm opacity-80"};function Pb(t,e){return q(),V("footer",Tb,[g("aside",null,[e[0]||(e[0]=g("p",{class:"font-bold text-[#0F766E]"}," Veridia Simple Student Information System ",-1)),g("p",Rb,"Copyright  "+G(new Date().getFullYear())+" - All rights reserved",1),e[1]||(e[1]=g("div",{class:"text-xs mt-2 opacity-60 hover:opacity-100 transition-opacity"},[g("a",{href:"https://www.flaticon.com/free-icons/letter-v",title:"letter v icons",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#0F766E] underline decoration-dotted"}," Letter v icons created by Kian Bonanno - Flaticon ")],-1))])])}const $b=Hs(kb,[["render",Pb]]),jb={class:"max-w-6xl mx-auto px-4 min-h-[80vh] flex flex-col justify-center py-8"},Ib={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Lb={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md hover:-translate-y-1 relative overflow-hidden"},Nb={class:"flex justify-between items-start"},Ub={class:"text-4xl font-bold text-[#0F766E] mt-2"},Db={class:"p-3 bg-[#CCFBF1] rounded-lg text-[#0F766E]"},Fb=["src"],Bb={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md hover:-translate-y-1 relative overflow-hidden"},Mb={class:"flex justify-between items-start"},qb={class:"text-4xl font-bold text-[#0F766E] mt-2"},Hb={class:"p-3 bg-[#CCFBF1] rounded-lg text-[#0F766E]"},Vb=["src"],Kb={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md hover:-translate-y-1 relative overflow-hidden"},Wb={class:"flex justify-between items-start"},zb={class:"text-4xl font-bold text-[#0F766E] mt-2"},Gb={class:"p-3 bg-[#CCFBF1] rounded-lg text-[#0F766E]"},Jb=["src"],Yb={__name:"home",setup(t){const e=Ks(),r=Rr(),s=ao();return nr(async()=>{await Promise.all([e.fetchStudents(),r.fetchPrograms(),s.fetchColleges()])}),(n,o)=>{const i=Uc("RouterLink");return q(),V(Ae,null,[g("div",jb,[o[6]||(o[6]=Wo('<div class="bg-gradient-to-r from-[#0F766E] to-[#0d9488] rounded-2xl p-8 md:p-12 text-white shadow-xl mb-10 relative overflow-hidden"><div class="absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-white opacity-10 rounded-full blur-3xl"></div><div class="relative z-10"><h1 class="text-3xl md:text-4xl font-bold mb-4">Welcome Back, Admin!</h1><p class="text-teal-100 text-lg max-w-2xl"> Here is an overview of the university database. You can manage students, update academic programs, and organize college departments from this dashboard. </p></div></div>',1)),g("div",Ib,[ce(i,{to:"/students",class:"group"},{default:at(()=>[g("div",Lb,[g("div",Nb,[g("div",null,[o[0]||(o[0]=g("p",{class:"text-gray-500 text-sm font-bold uppercase tracking-wider"},"Total Students",-1)),g("h2",Ub,G(J(e).students.length),1)]),g("div",Db,[g("img",{src:J(Xu),alt:"Student",class:"w-8 h-8"},null,8,Fb)])]),o[1]||(o[1]=g("div",{class:"mt-4 flex items-center text-sm text-gray-400 group-hover:text-[#0F766E] transition-colors"},[g("span",null,"View all students"),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})])],-1))])]),_:1}),ce(i,{to:"/programs",class:"group"},{default:at(()=>[g("div",Bb,[g("div",Mb,[g("div",null,[o[2]||(o[2]=g("p",{class:"text-gray-500 text-sm font-bold uppercase tracking-wider"},"Academic Programs",-1)),g("h2",qb,G(J(r).programs.length),1)]),g("div",Hb,[g("img",{src:J(ed),alt:"Program",class:"w-8 h-8"},null,8,Vb)])]),o[3]||(o[3]=g("div",{class:"mt-4 flex items-center text-sm text-gray-400 group-hover:text-[#0F766E] transition-colors"},[g("span",null,"Manage programs"),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})])],-1))])]),_:1}),ce(i,{to:"/colleges",class:"group"},{default:at(()=>[g("div",Kb,[g("div",Wb,[g("div",null,[o[4]||(o[4]=g("p",{class:"text-gray-500 text-sm font-bold uppercase tracking-wider"},"Colleges",-1)),g("h2",zb,G(J(s).colleges.length),1)]),g("div",Gb,[g("img",{src:J(td),alt:"College",class:"w-8 h-8"},null,8,Jb)])]),o[5]||(o[5]=g("div",{class:"mt-4 flex items-center text-sm text-gray-400 group-hover:text-[#0F766E] transition-colors"},[g("span",null,"View departments"),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})])],-1))])]),_:1})]),o[7]||(o[7]=Wo('<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"><div class="bg-[#F0FDFA] border border-[#CCFBF1] p-6 rounded-xl"><h3 class="font-bold text-[#0F766E] mb-2">Getting Started?</h3><p class="text-sm text-gray-600">To add a new student, navigate to the Students page or use the floating action button (+) in the bottom right corner.</p></div><div class="bg-[#F0FDFA] border border-[#CCFBF1] p-6 rounded-xl"><h3 class="font-bold text-[#0F766E] mb-2">Search &amp; Filter</h3><p class="text-sm text-gray-600"> You can find records quickly by typing an ID, Name, or Code into the search bar on any management page. </p></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="bg-white border border-gray-100 p-6 rounded-xl shadow-sm"><h3 class="font-bold text-gray-700 mb-6 text-sm uppercase flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span> System Health </h3><div class="space-y-5"><div><div class="flex justify-between mb-1"><span class="text-xs font-bold text-gray-500">Database Storage</span><span class="text-xs font-bold text-[#0F766E]">45%</span></div><div class="w-full bg-gray-100 rounded-full h-2"><div class="bg-[#0F766E] h-2 rounded-full transition-all duration-1000" style="width:45%;"></div></div></div><div><div class="flex justify-between mb-1"><span class="text-xs font-bold text-gray-500">Server Load</span><span class="text-xs font-bold text-emerald-500">Optimal</span></div><div class="w-full bg-gray-100 rounded-full h-2"><div class="bg-emerald-400 h-2 rounded-full transition-all duration-1000" style="width:25%;"></div></div></div><div><div class="flex justify-between mb-1"><span class="text-xs font-bold text-gray-500">API Status</span><span class="text-xs font-bold text-emerald-500">Online</span></div><div class="w-full bg-gray-100 rounded-full h-2"><div class="bg-emerald-400 h-2 rounded-full transition-all duration-1000" style="width:98%;"></div></div></div></div></div><div class="bg-white border border-gray-100 rounded-xl shadow-sm lg:col-span-2 overflow-hidden flex flex-col"><div class="p-6 border-b border-gray-50"><h3 class="font-bold text-gray-700 text-sm uppercase">Recent System Logs</h3></div><div class="flex-grow overflow-y-auto"><table class="w-full text-sm text-left"><tbody class="divide-y divide-gray-50"><tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4 font-medium text-gray-700">Database Backup</td><td class="px-6 py-4 text-gray-500">Automated System</td><td class="px-6 py-4 text-right text-gray-400 text-xs">2 mins ago</td></tr><tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4 font-medium text-gray-700">User Login</td><td class="px-6 py-4 text-gray-500">Admin</td><td class="px-6 py-4 text-right text-gray-400 text-xs">15 mins ago</td></tr><tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4 font-medium text-gray-700">System Update</td><td class="px-6 py-4 text-gray-500">v2.4.0 Patch</td><td class="px-6 py-4 text-right text-gray-400 text-xs">1 day ago</td></tr></tbody></table></div><div class="p-4 bg-gray-50 border-t border-gray-100 text-center"><button class="text-xs font-bold text-[#0F766E] hover:underline">View All Logs</button></div></div></div>',2))]),ce($b)],64)}}},Zb={class:"max-w-6xl mx-auto mt-8 px-4"},Qb={class:"flex flex-col lg:flex-row gap-4 lg:gap-8 items-center justify-between p-4 bg-white rounded-xl shadow-lg border border-gray-100"},Xb={class:"input input-bordered flex items-center gap-2 w-full lg:w-1/3 transition-all duration-300 focus-within:border-[#0F766E] focus-within:ring-1 focus-within:ring-[#0F766E] rounded-lg shadow-sm"},ew=["value"],tw={class:"flex items-center gap-3 lg:gap-4 w-full lg:w-2/3 justify-end"},rw={class:"dropdown dropdown-end"},sw={tabindex:"0",role:"button",class:"btn btn-sm text-[#0F766E] border border-[#0F766E] bg-white hover:bg-[#CCFBF1] transition-colors duration-200"},nw={class:"font-bold ml-1"},ow={tabindex:"0",class:"dropdown-content card card-sm bg-white z-10 w-64 shadow-xl border border-gray-100"},iw={class:"card-body flex flex-col gap-2 p-4"},aw=["value","checked","onChange"],lw={class:"dropdown dropdown-end"},cw={tabindex:"0",class:"btn btn-sm text-[#0F766E] border border-[#0F766E] bg-white hover:bg-[#CCFBF1] transition-colors duration-200"},uw={class:"font-bold ml-1"},dw={tabindex:"0",class:"dropdown-content card card-sm bg-white z-10 w-64 shadow-xl border border-gray-100"},hw={class:"card-body flex flex-col gap-2 p-4"},fw=["value","checked","onChange"],pw={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-4 h-4"},gw={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-4 h-4"},Yi={__name:"Searchbar",props:{query:String,filter:String,filters:{type:Array,default:()=>["All","ID","First Name","Last Name","Year","Gender","Program"]},sortBy:String,sortDesc:Boolean,sortOptions:{type:Array,default:()=>[]}},emits:["update:query","update:filter","update:sortBy","update:sortDesc"],setup(t){return(e,r)=>(q(),V("div",Zb,[g("div",Qb,[g("label",Xb,[r[3]||(r[3]=g("svg",{class:"w-4 h-4 text-[#0F766E] opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[g("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2",fill:"none",stroke:"currentColor"},[g("circle",{cx:"11",cy:"11",r:"8"}),g("path",{d:"m21 21-4.3-4.3"})])],-1)),g("input",{type:"search",class:"grow placeholder-gray-400 focus:outline-none focus:ring-0 text-sm font-medium",value:t.query,onInput:r[0]||(r[0]=s=>e.$emit("update:query",s.target.value)),placeholder:"Search records..."},null,40,ew)]),g("div",tw,[g("div",rw,[g("div",sw,[r[4]||(r[4]=Rt(" Search By: ",-1)),g("span",nw,G(t.filter),1)]),g("div",ow,[g("div",iw,[(q(!0),V(Ae,null,Ht(t.filters,s=>(q(),V("label",{key:s,class:"flex items-center space-x-3 text-sm text-gray-700 hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer"},[g("input",{type:"radio",value:s,name:"filter",checked:t.filter===s,onChange:n=>e.$emit("update:filter",s),class:"radio radio-xs checked:bg-[#0F766E]"},null,40,aw),g("span",null,G(s),1)]))),128))])])]),g("div",lw,[g("div",cw,[r[5]||(r[5]=Rt(" Sort By: ",-1)),g("span",uw,G(t.sortBy),1)]),g("div",dw,[g("div",hw,[(q(!0),V(Ae,null,Ht(t.sortOptions,s=>(q(),V("label",{key:s,class:"flex items-center space-x-3 text-sm text-gray-700 hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer"},[g("input",{type:"radio",value:s,name:"sort",checked:t.sortBy===s,onChange:n=>e.$emit("update:sortBy",s),class:"radio radio-xs checked:bg-[#0F766E]"},null,40,fw),g("span",null,G(s),1)]))),128)),g("button",{class:"btn btn-sm mt-2 border-none text-white bg-[#0F766E] hover:bg-[#0d6e66]",onClick:r[1]||(r[1]=s=>e.$emit("update:sortDesc",!t.sortDesc))},G(t.sortDesc?"Descending (Z-A / 9-1)":"Ascending (A-Z / 1-9)"),1)])])]),g("button",{class:"btn btn-square btn-sm border border-[#0F766E] bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E] transition-colors duration-200",onClick:r[2]||(r[2]=s=>e.$emit("update:sortDesc",!t.sortDesc))},[t.sortDesc?(q(),V("svg",gw,[...r[7]||(r[7]=[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75M18.75 7.5L16.5 4.5m0 0L14.25 7.5m2.25-3v14.25"},null,-1)])])):(q(),V("svg",pw,[...r[6]||(r[6]=[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75M18.75 16.5L16.5 19.5m0 0l-2.25-3m2.25 3V2.25"},null,-1)])]))])])])]))}},mw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='20px'%20fill='%23000000'%3e%3cpath%20d='M560-240%20320-480l240-240%2056%2056-184%20184%20184%20184-56%2056Z'/%3e%3c/svg%3e",vw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='20px'%20fill='%23000000'%3e%3cpath%20d='M504-480%20320-664l56-56%20240%20240-240%20240-56-56%20184-184Z'/%3e%3c/svg%3e",yw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='20px'%20fill='%23000000'%3e%3cpath%20d='M440-240%20200-480l240-240%2056%2056-183%20184%20183%20184-56%2056Zm264%200L464-480l240-240%2056%2056-183%20184%20183%20184-56%2056Z'/%3e%3c/svg%3e",_w="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='20px'%20fill='%23000000'%3e%3cpath%20d='M383-480%20200-664l56-56%20240%20240-240%20240-56-56%20183-184Zm264%200L464-664l56-56%20240%20240-240%20240-56-56%20183-184Z'/%3e%3c/svg%3e",bw={class:"flex flex-col items-center gap-3 mt-6"},ww={class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},Ew={class:"flex justify-center items-center gap-1 flex-wrap"},Sw=["disabled"],xw=["src"],Cw=["disabled"],Aw=["src"],Ow=["onClick"],kw=["disabled"],Tw=["src"],Rw=["disabled"],Pw=["src"],Zi={__name:"Pagination",props:{page:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["update:page"],setup(t,{emit:e}){const r=t,s=e,n=Ce(()=>{const i=r.totalPages,a=r.page,l=[];let c=Math.max(1,a-2),u=Math.min(i,a+2);a<=3&&(u=Math.min(5,i)),a>=i-2&&(c=Math.max(i-4,1));for(let d=c;d<=u;d++)l.push(d);return l}),o=i=>{i>=1&&i<=r.totalPages&&s("update:page",i)};return(i,a)=>(q(),V("div",bw,[g("span",ww," Page "+G(r.page)+" of "+G(r.totalPages),1),g("div",Ew,[g("button",{class:"btn btn-sm btn-square border border-[#0F766E] bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E] disabled:bg-gray-100 disabled:border-gray-200 disabled:opacity-50",disabled:r.page===1,onClick:a[0]||(a[0]=l=>o(1))},[g("img",{src:J(yw),alt:"DAL",class:"w-4 h-4"},null,8,xw)],8,Sw),g("button",{class:"btn btn-sm btn-square border border-[#0F766E] bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E] disabled:bg-gray-100 disabled:border-gray-200 disabled:opacity-50",disabled:r.page===1,onClick:a[1]||(a[1]=l=>o(r.page-1))},[g("img",{src:J(mw),alt:"AL",class:"w-4 h-4"},null,8,Aw)],8,Cw),(q(!0),V(Ae,null,Ht(n.value,l=>(q(),V("button",{key:l+"-page",class:Ue(["btn btn-sm min-w-[32px] shadow-sm transition-all duration-200 border",{"bg-[#0F766E] text-white border-[#0F766E] hover:bg-[#0d6e66] hover:border-[#0d6e66]":l===r.page,"bg-white text-gray-700 border-gray-300 hover:bg-[#CCFBF1] hover:text-[#0F766E] hover:border-[#0F766E]":l!==r.page}]),onClick:c=>o(l)},G(l),11,Ow))),128)),g("button",{class:"btn btn-sm btn-square border border-[#0F766E] bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E] disabled:bg-gray-100 disabled:border-gray-200 disabled:opacity-50",disabled:r.page===r.totalPages,onClick:a[2]||(a[2]=l=>o(r.page+1))},[g("img",{src:J(vw),alt:"DAR",class:"w-4 h-4"},null,8,Tw)],8,kw),g("button",{class:"btn btn-sm btn-square border border-[#0F766E] bg-[#CCFBF1] hover:bg-[#99F6E4] text-[#0F766E] disabled:bg-gray-100 disabled:border-gray-200 disabled:opacity-50",disabled:r.page===r.totalPages,onClick:a[3]||(a[3]=l=>o(r.totalPages))},[g("img",{src:J(_w),alt:"AR",class:"w-4 h-4"},null,8,Pw)],8,Rw)])]))}},$w={class:"overflow-x-auto rounded-box bg-transparent"},jw={key:0,class:"flex justify-center items-center h-64"},Iw={class:"mt-10 max-w-6xl mx-auto overflow-hidden rounded-xl shadow-md border border-gray-200 bg-white"},Lw={class:"table w-full"},Nw={class:"divide-y divide-gray-100"},Uw={class:"avatar"},Dw={class:"w-10 h-10 rounded-full ring ring-[#0D9488] ring-offset-2"},Fw=["src"],Bw={key:1,class:"bg-neutral text-neutral-content w-full h-full flex items-center justify-center"},Mw={class:"text-xs font-bold"},qw={class:"font-mono text-xs font-semibold text-gray-500"},Hw={class:"font-medium text-gray-700"},Vw={class:"font-medium text-gray-700"},Kw={class:"badge badge-ghost badge-sm"},Ww={class:"text-gray-500 text-sm"},zw={key:0,class:"badge badge-accent badge-xs font-semibold text-black text-xs"},Gw={key:1,class:"badge badge-accent badge-xs font-semibold text-black text-xs italic"},Jw={class:"text-center"},Yw={class:"flex justify-center gap-1"},Zw={class:"tooltip","data-tip":"Edit"},Qw=["onClick"],Xw={class:"tooltip","data-tip":"Delete"},eE=["onClick"],Lo=10,tE={__name:"Students",setup(t){const e=Ks(),r=Rr(),s=kr(),n=Tr(),o=X(!1),i=X(null),a=X(!1),l=b=>{i.value=b,o.value=!0},c=async()=>{if(i.value){a.value=!0;try{await e.deleteStudent(i.value.student_id),n.showToast("Student deleted successfully","success"),await e.refreshStudents(),o.value=!1}catch(b){n.showToast(b.message,"error")}finally{a.value=!1}}},u=X(""),d=X("All"),h=X("ID"),f=X(!1),p=X(1);Fe([u,d,h,f],()=>p.value=1),nr(()=>{r.fetchPrograms(),e.fetchStudents()});const m={ID:"student_id","First Name":"first_name","Last Name":"last_name",Year:"year_level",Gender:"gender",Program:"program_code"},y=Ce(()=>{let b=e.students.filter(x=>{if(!u.value)return!0;const C=u.value.toLowerCase();return d.value==="Gender"?x.gender.toLowerCase()===C:d.value==="All"?Object.values(m).some(A=>(x[A]+"").toLowerCase().includes(C)):(x[m[d.value]]+"").toLowerCase().includes(C)});return h.value&&b.sort((x,C)=>{let A=x[m[h.value]],I=C[m[h.value]];return typeof A=="string"&&(A=A.toLowerCase()),typeof I=="string"&&(I=I.toLowerCase()),A<I?f.value?1:-1:A>I?f.value?-1:1:0}),b}),S=Ce(()=>Math.max(1,Math.ceil(y.value.length/Lo)));Fe(y,()=>{y.value.length===0?p.value=1:p.value>S.value&&(p.value=S.value)});const k=Ce(()=>{const b=(p.value-1)*Lo;return y.value.slice(b,b+Lo)}),w=b=>{s.setCurrentStudent(b),s.setEditMode(!0),s.open("studentForm")};return(b,x)=>(q(),V("div",null,[ce(Yi,{query:u.value,"onUpdate:query":x[0]||(x[0]=C=>u.value=C),filter:d.value,"onUpdate:filter":x[1]||(x[1]=C=>d.value=C),sortBy:h.value,"onUpdate:sortBy":x[2]||(x[2]=C=>h.value=C),sortDesc:f.value,"onUpdate:sortDesc":x[3]||(x[3]=C=>f.value=C),filters:["All","ID","First Name","Last Name","Year","Gender","Program"],sortOptions:["ID","First Name","Last Name","Year","Gender","Program"]},null,8,["query","filter","sortBy","sortDesc"]),g("div",$w,[J(e).loading?(q(),V("div",jw,[...x[6]||(x[6]=[g("span",{class:"loading loading-spinner loading-lg text-info"},null,-1)])])):be("",!0),g("div",Iw,[g("table",Lw,[x[9]||(x[9]=g("thead",{class:"bg-[#F0FDFA] text-gray-700 font-bold uppercase text-xs tracking-wider"},[g("tr",null,[g("th",{class:"w-16"}),Rt(),g("th",null,"ID"),g("th",null,"First Name"),g("th",null,"Last Name"),g("th",null,"Year"),g("th",null,"Gender"),g("th",null,"Program"),g("th",{class:"text-center"},"Actions")])],-1)),g("tbody",Nw,[(q(!0),V(Ae,null,Ht(k.value,C=>(q(),V("tr",{key:C.student_id,class:"hover:bg-gray-50 transition-colors"},[g("td",null,[g("div",Uw,[g("div",Dw,[C.image_url?(q(),V("img",{key:0,src:C.image_url,alt:"avatar"},null,8,Fw)):(q(),V("div",Bw,[g("span",Mw,G(C.first_name.charAt(0)+C.last_name.charAt(0)),1)]))])])]),g("td",qw,G(C.student_id),1),g("td",Hw,G(C.first_name),1),g("td",Vw,G(C.last_name),1),g("td",null,[g("span",Kw,G(C.year_level),1)]),g("td",Ww,G(C.gender),1),g("td",null,[C.program_code?(q(),V("span",zw,G(C.program_code),1)):(q(),V("span",Gw,"None"))]),g("td",Jw,[g("div",Yw,[g("div",Zw,[g("button",{class:"btn btn-square btn-ghost btn-xs text-accent",onClick:A=>w(C)},[...x[7]||(x[7]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1)])],8,Qw)]),g("div",Xw,[g("button",{class:"btn btn-square btn-ghost btn-xs text-error",onClick:A=>l(C)},[...x[8]||(x[8]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,eE)])])])]))),128))])])]),ce(Zi,{page:p.value,"total-pages":S.value,"onUpdate:page":x[4]||(x[4]=C=>p.value=C)},null,8,["page","total-pages"])]),ce(Jd),ce(no,{isOpen:o.value,title:"Delete Student?",message:`Are you sure you want to delete ${i.value?.first_name} ${i.value?.last_name}? This cannot be undone.`,isLoading:a.value,onClose:x[5]||(x[5]=C=>o.value=!1),onConfirm:c},null,8,["isOpen","message","isLoading"])]))}},rE={class:"overflow-x-auto rounded-box bg-transparent"},sE={key:0,class:"flex justify-center items-center h-64"},nE={class:"mt-10 max-w-6xl mx-auto overflow-hidden rounded-xl shadow-md border border-gray-200 bg-white"},oE={class:"table w-full"},iE={class:"divide-y divide-gray-100"},aE={class:"pl-6 font-mono font-bold text-gray-700"},lE={class:"font-medium text-gray-600 text-sm"},cE={key:0,class:"badge badge-accent badge-xs font-semibold text-black text-xs"},uE={key:1,class:"badge badge-accent badge-xs font-semibold text-black text-xs italic"},dE={class:"text-center"},hE={class:"flex justify-center gap-1"},fE={class:"tooltip","data-tip":"Edit"},pE=["onClick"],gE={class:"tooltip","data-tip":"Delete"},mE=["onClick"],No=10,vE={__name:"Programs",setup(t){const e=Rr(),r=Ks(),s=kr(),n=Tr(),o=X(!1),i=X(null),a=X(!1),l=w=>{i.value=w,o.value=!0},c=async()=>{if(i.value){a.value=!0;try{await e.deleteProgram(i.value.program_code),n.showToast("Program deleted successfully!","success"),await e.refreshPrograms(),await r.refreshStudents(),o.value=!1,i.value=null}catch(w){console.error("Error deleting program:",w),n.showToast(w.message||"Failed to delete program","error")}finally{a.value=!1}}},u=X(""),d=X("All"),h=X("Program Code"),f=X(!1),p=X(1);nr(()=>e.fetchPrograms()),Fe([u,d,h,f],()=>{p.value=1});const m=w=>{s.setCurrentProgram(w),s.setEditMode(!0),s.open("programForm")},y=Ce(()=>{let w=e.programs.filter(b=>{if(!u.value)return!0;const x=u.value.toLowerCase();switch(d.value){case"Program Code":return b.program_code.toLowerCase().includes(x);case"Program Name":return b.program_name.toLowerCase().includes(x);case"College Code":return(b.college_code||"").toLowerCase().includes(x);default:return b.program_code.toLowerCase().includes(x)||b.program_name.toLowerCase().includes(x)||(b.college_code||"").toLowerCase().includes(x)}});return h.value&&h.value!=="All"&&w.sort((b,x)=>{let C=b[h.value.replace(" ","_").toLowerCase()]||"",A=x[h.value.replace(" ","_").toLowerCase()]||"";return typeof C=="string"&&(C=C.toLowerCase()),typeof A=="string"&&(A=A.toLowerCase()),C<A?f.value?1:-1:C>A?f.value?-1:1:0}),w}),S=Ce(()=>{const w=Math.ceil(y.value.length/No);return w>0?w:1});Fe(y,()=>{y.value.length===0?p.value=1:p.value>S.value&&(p.value=S.value)});const k=Ce(()=>{const w=(p.value-1)*No;return y.value.slice(w,w+No)});return(w,b)=>(q(),V(Ae,null,[ce(Yi,{query:u.value,"onUpdate:query":b[0]||(b[0]=x=>u.value=x),filter:d.value,"onUpdate:filter":b[1]||(b[1]=x=>d.value=x),sortBy:h.value,"onUpdate:sortBy":b[2]||(b[2]=x=>h.value=x),sortDesc:f.value,"onUpdate:sortDesc":b[3]||(b[3]=x=>f.value=x),filters:["All","Program Code","Program Name","College Code"],sortOptions:["Program Code","Program Name","College Code"]},null,8,["query","filter","sortBy","sortDesc"]),g("div",rE,[J(e).loading?(q(),V("div",sE,[...b[6]||(b[6]=[g("span",{class:"loading loading-spinner loading-lg text-info"},null,-1)])])):be("",!0),g("div",nE,[g("table",oE,[b[9]||(b[9]=g("thead",{class:"bg-[#F0FDFA] text-gray-700 font-bold uppercase text-xs tracking-wider"},[g("tr",null,[g("th",{class:"py-4 pl-6"},"Program Code"),g("th",null,"Description"),g("th",null,"College"),g("th",{class:"text-center"},"Actions")])],-1)),g("tbody",iE,[(q(!0),V(Ae,null,Ht(k.value,x=>(q(),V("tr",{key:x.program_code,class:"hover:bg-gray-50 transition-colors"},[g("td",aE,G(x.program_code),1),g("td",lE,G(x.program_name),1),g("td",null,[x.college_code?(q(),V("span",cE,G(x.college_code),1)):(q(),V("span",uE,"None"))]),g("td",dE,[g("div",hE,[g("div",fE,[g("button",{class:"btn btn-square btn-ghost btn-xs text-accent",onClick:C=>m(x)},[...b[7]||(b[7]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1)])],8,pE)]),g("div",gE,[g("button",{class:"btn btn-square btn-ghost btn-xs text-error",onClick:C=>l(x)},[...b[8]||(b[8]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,mE)])])])]))),128))])])]),ce(Zi,{page:p.value,"total-pages":S.value,"onUpdate:page":b[4]||(b[4]=x=>p.value=x)},null,8,["page","total-pages"])]),ce(Yd),ce(no,{isOpen:o.value,title:"Delete Program?",message:`Are you sure you want to delete ${i.value?.program_name} (${i.value?.program_code})? This cannot be undone.`,isLoading:a.value,onClose:b[5]||(b[5]=x=>o.value=!1),onConfirm:c},null,8,["isOpen","message","isLoading"])],64))}},yE={class:"mt-10 overflow-x-auto rounded-box bg-transparent"},_E={key:0,class:"flex justify-center items-center h-64"},bE={class:"max-w-6xl mx-auto overflow-hidden rounded-xl shadow-md border border-gray-200 bg-white"},wE={class:"table w-full"},EE={class:"divide-y divide-gray-100"},SE={class:"pl-6 font-mono font-bold text-gray-700 text-sm"},xE={class:"font-medium text-gray-600 text-sm"},CE={class:"text-center"},AE={class:"flex justify-center gap-1"},OE={class:"tooltip","data-tip":"Edit"},kE=["onClick"],TE={class:"tooltip","data-tip":"Delete"},RE=["onClick"],Uo=10,PE={__name:"Colleges",setup(t){const e=ao(),r=Rr(),s=kr(),n=Tr(),o=X(!1),i=X(null),a=X(!1),l=w=>{i.value=w,o.value=!0},c=async()=>{if(i.value){a.value=!0;try{const w=await e.deleteCollege(i.value.college_code);n.showToast(w.message||"College deleted successfully","success"),await e.refreshColleges(),await r.refreshPrograms(),o.value=!1,i.value=null}catch(w){console.error("Error deleting college:",w),n.showToast(w.message||"Failed to delete college","error")}finally{a.value=!1}}},u=X(""),d=X("All"),h=X("College Code"),f=X(!1),p=X(1);nr(()=>e.fetchColleges()),Fe([u,d,h,f],()=>p.value=1);const m=w=>{s.setCurrentCollege(w),s.setEditMode(!0),s.open("collegeForm")},y=Ce(()=>{let w=e.colleges.filter(b=>{if(!u.value)return!0;const x=u.value.toLowerCase();switch(d.value){case"College Code":return b.college_code.toLowerCase().includes(x);case"College Name":return b.college_name.toLowerCase().includes(x);default:return b.college_code.toLowerCase().includes(x)||b.college_name.toLowerCase().includes(x)}});return h.value&&h.value!=="All"&&w.sort((b,x)=>{let C=b[h.value.replace(" ","_").toLowerCase()]||"",A=x[h.value.replace(" ","_").toLowerCase()]||"";return typeof C=="string"&&(C=C.toLowerCase()),typeof A=="string"&&(A=A.toLowerCase()),C<A?f.value?1:-1:C>A?f.value?-1:1:0}),w}),S=Ce(()=>{const w=Math.ceil(y.value.length/Uo);return w>0?w:1});Fe(y,()=>{y.value.length===0?p.value=1:p.value>S.value&&(p.value=S.value)});const k=Ce(()=>{const w=(p.value-1)*Uo;return y.value.slice(w,w+Uo)});return(w,b)=>(q(),V(Ae,null,[ce(Yi,{query:u.value,"onUpdate:query":b[0]||(b[0]=x=>u.value=x),filter:d.value,"onUpdate:filter":b[1]||(b[1]=x=>d.value=x),sortBy:h.value,"onUpdate:sortBy":b[2]||(b[2]=x=>h.value=x),sortDesc:f.value,"onUpdate:sortDesc":b[3]||(b[3]=x=>f.value=x),filters:["All","College Code","College Name"],sortOptions:["College Code","College Name"]},null,8,["query","filter","sortBy","sortDesc"]),g("div",yE,[J(e).loading?(q(),V("div",_E,[...b[6]||(b[6]=[g("span",{class:"loading loading-spinner loading-lg text-info"},null,-1)])])):be("",!0),g("div",bE,[g("table",wE,[b[9]||(b[9]=g("thead",{class:"bg-[#F0FDFA] text-gray-700 font-bold uppercase text-xs tracking-wider"},[g("tr",null,[g("th",{class:"py-4 pl-6"},"College Code"),g("th",null,"Description"),g("th",{class:"text-center"},"Actions")])],-1)),g("tbody",EE,[(q(!0),V(Ae,null,Ht(k.value,x=>(q(),V("tr",{key:x.college_code,class:"hover:bg-gray-50 transition-colors"},[g("td",SE,G(x.college_code),1),g("td",xE,G(x.college_name),1),g("td",CE,[g("div",AE,[g("div",OE,[g("button",{class:"btn btn-square btn-ghost btn-xs text-accent",onClick:C=>m(x)},[...b[7]||(b[7]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1)])],8,kE)]),g("div",TE,[g("button",{class:"btn btn-square btn-ghost btn-xs text-error",onClick:C=>l(x)},[...b[8]||(b[8]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,RE)])])])]))),128))])])]),ce(Zi,{page:p.value,"total-pages":S.value,"onUpdate:page":b[4]||(b[4]=x=>p.value=x)},null,8,["page","total-pages"])]),ce(Zd),ce(no,{isOpen:o.value,title:"Delete College?",message:`Are you sure you want to delete ${i.value?.college_name} (${i.value?.college_code})? This will also delete all associated programs.`,isLoading:a.value,onClose:b[5]||(b[5]=x=>o.value=!1),onConfirm:c},null,8,["isOpen","message","isLoading"])],64))}},Qd=v0({history:zm("/"),routes:[{path:"/",name:"Home",component:Yb,meta:{title:"Dashboard"}},{path:"/students",name:"Students",component:tE,meta:{title:"Students"}},{path:"/programs",name:"Programs",component:vE,meta:{title:"Programs"}},{path:"/colleges",name:"Colleges",component:PE,meta:{title:"Colleges"}},{path:"/:pathMatch(.*)*",redirect:"/"}]}),Jl="Veridia";Qd.beforeEach((t,e,r)=>{document.title=t.meta.title?`${t.meta.title} | ${Jl}`:Jl,r()});const $E=()=>typeof window<"u"?window.location.port==="5173"?"http://localhost:5000":window.location.origin:"http://localhost:5000";oe.defaults.baseURL=$E();oe.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const Qi=Ip(Ob);Qi.use(Up());Qi.use(Qd);Qi.mount("#app");
